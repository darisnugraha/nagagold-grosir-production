(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[123],{1284:function(e,a,t){"use strict";t.r(a);var r=t(52),n=t(53),i=t(54),s=t(55),o=t(0),c=t.n(o),p=t(33),l=t(308),u=t(4),m=t(440),d=t(441),k=t(460),h=t(51),f=t(20),_=t(5),b=t(303),g=t(311),v=t(302),y=t(1),E=t(48),O=t(304),j=t(246),N=t(211),R=t(305),S=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={columns:[{dataField:"kode_customer",text:"Kode Customer"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"nama_toko",text:"Nama Toko"}]},n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(h.o)())}},{key:"kirimDuplikat",value:function(){var e=this,a=JSON.parse(localStorage.getItem("list_duplikasi_reparasi_temp"));a.map((function(t,r){return r===a.length-1?(Object(_.f)("ongkos-reparasi/add",t).then((function(){return Object(f.b)("Berhasil Disimpan")})).then((function(){return e.props.dispatch(Object(j.c)())})).then((function(){return e.setState({edit:!1})})).catch((function(e){return Object(f.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))})),!1):(Object(_.f)("ongkos-reparasi/add",t).catch((function(e){return Object(f.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))})),!0)}))}},{key:"render",value:function(){var e=this,a={mode:"checkbox",clickToSelect:!1,onSelect:function(a,t,r,n){var i=JSON.parse(localStorage.getItem("list_duplikasi_reparasi_temp"))||[],s={kode_customer:a.kode_customer,kode_reparasi:e.props.duplikatReparasi.kode_reparasi,ongkos_reparasi:e.props.duplikatReparasi.ongkos_reparasi,type_reparasi:e.props.duplikatReparasi.type_reparasi};if(t){var o=i.findIndex((function(e,t){return e.kode_customer===a.kode_customer}));o<0?i.push(s):i.splice(o,1),localStorage.setItem("list_duplikasi_reparasi_temp",JSON.stringify(i))}else{var c=i.findIndex((function(e,t){return e.kode_customer===a.kode_customer}));i.splice(c,1),localStorage.setItem("list_duplikasi_reparasi_temp",JSON.stringify(i))}},onSelectAll:function(a,t,r){var n=[],i=e.props.duplikatReparasi;t.forEach((function(e){var a={kode_customer:e.kode_customer,kode_reparasi:i.kode_reparasi,ongkos_reparasi:i.ongkos_reparasi,type_reparasi:i.type_reparasi};n.push(a)})),a?localStorage.setItem("list_duplikasi_reparasi_temp",JSON.stringify(n)):localStorage.removeItem("list_duplikasi_reparasi_temp")}};return c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("p",null,"**Silahkan pilih customer yang ingin di duplikasi dengan cara mencentang box yang ada di sebelah kiri, lalu tekan simpan"),c.a.createElement("div",{className:"row"},c.a.createElement(b.a,{columns:this.state.columns,keyField:"kode_customer",data:this.props.listCustomer,selectRow:a})),c.a.createElement("div",{className:"row col-lg-12 justify-content-end"},c.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.kirimDuplikat()},type:"button"},"Simpan")))}}]),t}(o.Component),D=Object(d.a)({form:"FormDuplikatReparasi"})(S),x=Object(p.b)((function(e){return{listCustomer:e.customerState.listCustomer||[],duplikatReparasi:e.provinsi.duplikat_reparasi}}))(D),C=t(10),w=Object(O.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),P=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={edit:!1,columns:[{dataField:"kode_customer",text:"Kode Toko",headerStyle:function(){return{width:"15%"}}},{dataField:"kode_reparasi",text:"Kode Reparasi",headerStyle:function(){return{width:"15%"}}},{dataField:"ongkos_reparasi",text:"Ongkos Reparasi",align:"right",headerAlign:"right",formatter:function(e){return Object(y.G)(e)},headerStyle:function(){return{width:"15%"}}},{dataField:"type_reparasi",text:"Type Reparasi",align:"right",headerAlign:"right",headerStyle:function(){return{width:"15%"}}},{dataField:"link",text:"Aksi",csvExport:!1,formatter:function(e,a){return c.a.createElement("div",{className:"text-center row-justify-center"},c.a.createElement("button",{"data-tip":!0,"data-for":"edit",className:"btn btn-success mr-1 mt-1",onClick:function(){return n.duplikat(a)},"data-tut":"reactour_3"},c.a.createElement("i",{className:"fa fa-clone mr-1"}),c.a.createElement(l.a,{id:"edit",type:"dark",effect:"solid"},c.a.createElement("span",null,"Duplikat")),"Duplikat Manual"),c.a.createElement("button",{"data-tip":!0,"data-for":"edit",className:"btn btn-primary mt-1",onClick:function(){n.props.dispatch(Object(j.d)(a)),n.props.dispatch(Object(C.j)())},"data-tut":"reactour_3"},c.a.createElement("i",{className:"fa fa-clone mr-1"}),c.a.createElement(l.a,{id:"edit",type:"dark",effect:"solid"},c.a.createElement("span",null,"Duplikat")),"Duplikat"),c.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-warning mt-1 ml-2",onClick:function(){return n.edit(a)},"data-tut":"reactour_3"},c.a.createElement("i",{className:"fa fa-edit "}),c.a.createElement(l.a,{id:"hapus",type:"dark",effect:"solid"},c.a.createElement("span",null,"Hapus")),"Edit"))}}]},n}return Object(n.a)(t,[{key:"duplikat",value:function(e){this.props.change("kode_reparasi",e.kode_reparasi),this.props.change("ongkos_reparasi",e.ongkos_reparasi),this.props.change("type_reparasi",e.type_reparasi),Object(g.e)("Duplikasi berhasil")}},{key:"edit",value:function(e){this.props.change("kode_reparasi",e.kode_reparasi),this.props.change("nama_toko",e.kode_customer),this.props.change("ongkos_reparasi",e.ongkos_reparasi),this.props.change("type_reparasi",e.type_reparasi),this.setState({edit:!0})}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(j.c)()),this.props.dispatch(Object(N.f)()),this.props.dispatch(Object(h.o)())}},{key:"simpanReparasi",value:function(){var e=this,a={kode_customer:this.props.nama_toko,kode_reparasi:this.props.kode_reparasi,ongkos_reparasi:this.props.ongkos_reparasi,type_reparasi:this.props.type_reparasi},t={ongkos_reparasi:this.props.ongkos_reparasi,type_reparasi:this.props.type_reparasi};this.state.edit?Object(_.h)("ongkos-reparasi/update/".concat(this.props.nama_toko,"&").concat(this.props.kode_reparasi),t).then((function(){return Object(f.b)("Berhasil Disimpan")})).then((function(){return e.props.dispatch(Object(u.b)("ParameterReparasi"))})).then((function(){return e.props.dispatch(Object(j.c)())})).catch((function(e){return Object(f.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))})):Object(_.f)("ongkos-reparasi/add",a).then((function(){return Object(f.b)("Berhasil Disimpan")})).then((function(){return e.props.dispatch(Object(u.b)("ParameterReparasi"))})).then((function(){return e.props.dispatch(Object(j.c)())})).then((function(){return e.setState({edit:!1})})).catch((function(e){return Object(f.c)("Gagal Menyimpan Data, Detail : ".concat(e.response.data))}))}},{key:"render",value:function(){return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{className:"row"},this.ParameterReparasiBaru(),c.a.createElement("div",{className:"col-lg-9"},c.a.createElement("div",{className:"card"},c.a.createElement(v.a,{title:"Parameter Reparasi"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(b.a,{keyField:"id",data:this.props.ParameterReparasi,columns:this.state.columns,search:!0})))),c.a.createElement(R.default,{content:c.a.createElement(x,null),title:"Duplikat Parameter Reparasi"})))}},{key:"ParameterReparasiBaru",value:function(){var e=this;return c.a.createElement("div",{className:"col-lg-3"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"col-lg-12 text-center"},c.a.createElement("h2",null,"Tambah Parameter Reparasi")),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("hr",null)),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(m.a,{name:"nama_toko",component:E.c,options:this.props.kodeCustomer.map((function(e){return{value:e.kode_customer,name:e.nama_toko}})),type:"text",label:"Nama Toko",placeholder:"Masukan Nama Toko"})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(m.a,{name:"kode_reparasi",component:E.c,options:this.props.kodeReparasi.map((function(e){return{value:e.kode_reparasi,name:e.deskripsi_reparasi}})),label:"Reparasi",placeholder:"Masukan Reparasi"})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(m.a,{name:"type_reparasi",component:E.c,options:[{value:"QTY",name:"Quantity"},{value:"BERAT",name:"Berat"}],type:"text",label:"Type Reparasi",placeholder:"Pilih Type Reparasi"})),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(m.a,Object.assign({name:"ongkos_reparasi",component:E.b,normalize:y.e,label:"Ongkos Reparasi",placeholder:"Masukan Ongkos Reparasi"},w))),c.a.createElement("div",{className:"col-lg-12 mt-3"},c.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e.simpanReparasi()}},"Selesai")))))}}]),t}(o.Component);P=Object(d.a)({form:"ParameterReparasi"})(P);var F=Object(k.a)("ParameterReparasi");a.default=Object(p.b)((function(e){var a=F(e,"kode_reparasi","ongkos_reparasi","nama_toko","type_reparasi"),t=a.kode_reparasi,r=a.nama_toko,n=a.ongkos_reparasi,i=a.type_reparasi;return{ParameterReparasi:e.provinsi.ParameterReparasi,kodeReparasi:e.provinsi.reparasi,kodeCustomer:e.customerState.listCustomer||[],kode_reparasi:t,ongkos_reparasi:n,nama_toko:r,type_reparasi:i}}))(P)},460:function(e,a,t){"use strict";var r=t(97),n=t.n(r),i=t(29);a.a=function(e){var a=e.getIn;return function(e,t){n()(e,"Form value must be specified");var r=t||function(e){return a(e,"form")};return function(t){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];return n()(o.length,"No fields specified"),1===o.length?a(r(t),e+".values."+o[0]):o.reduce((function(n,s){var o=a(r(t),e+".values."+s);return void 0===o?n:i.a.setIn(n,s,o)}),{})}}}(i.a)}}]);