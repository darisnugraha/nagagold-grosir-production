(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[71],{1035:function(e,t,a){e.exports=a.p+"static/media/loading-files.33e5b8a5.gif"},1305:function(e,t,a){"use strict";a.r(t);var n=a(52),l=a(53),o=a(54),r=a(55),i=a(0),s=a.n(i),c=a(33),d=a(39),u=a(302),m=a(151),h=a(303),p=a(5),b=a(20),g=a(3),_=a(182),v=a(440),k=a(441),f=a(460),y=a(48),O=a(1),E=a(56),j=a(792),S=function(e){var t=e.input,a=e.label,n=e.type,l=e.limit,o=e.readOnly,r=e.meta,i=r.touched,c=r.error,d=r.warning;return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-black"},a),s.a.createElement("input",Object.assign({},t,{type:n,className:"form-control",min:"0",step:"0.001",maxLength:l,readOnly:o})),i&&(c&&s.a.createElement("p",{className:"invalid-feedback"},c)||d&&s.a.createElement("p",null,d)))},N=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).onChange=function(e){return function(t){l.setState(Object(_.a)({},e,t.target.value))}},l.state={listLokasi:[]},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.e)(localStorage.getItem("noFaktur")))}},{key:"setSelisih",value:function(){this.props.change("total_netto_selisih",this.props.total_netto_selisih),this.props.change("total_bruto_selisih",this.props.total_bruto_selisih)}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(v.a,{name:"kode_kelompok",component:y.c,options:[{value:"PERHIASAN",name:"PERHIASAN"},{value:"CIOK",name:"CIOK"},{value:"RONGSOK",name:"RONGSOK"}],type:"text",label:"Kode Kelompok",placeholder:"Masukan ",readOnly:!0})),s.a.createElement(j.a,{className:"col-lg-4 ",readOnly:!0}),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(v.a,{name:"lokasi",component:y.c,options:this.props.lokasi.map((function(e){return{value:e.kode_lokasi,name:e.kode_lokasi}})),type:"text",label:"Lokasi",placeholder:"Masukan Lokasi",readOnly:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("hr",null)),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"total_qty",component:S,type:"text",label:"Total Qty",placeholder:"Masukan Total Qty",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"total_gross",component:S,type:"text",label:"Total Gross",placeholder:"Masukan Total Gross",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"total_pkg",component:S,type:"text",label:"Total Pkg",placeholder:"Masukan Total Pkg",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"berat_baki",component:S,type:"text",label:"Berat Baki",placeholder:"Masukan Berat Baki",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"berat_lain",component:S,type:"text",label:"Berat Lain",placeholder:"Masukan Berat Lain",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"total_bruto",component:S,type:"text",label:"Total Bruto",placeholder:"Masukan Total Bruto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"berat_bruto",component:S,type:"text",label:"Total Timbang",placeholder:"Masukan Total Timbang",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(v.a,{name:"total_netto",component:S,type:"text",label:"Total Netto",placeholder:"Masukan Total Netto",readOnly:!0})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("hr",null))),s.a.createElement("div",{className:"col-lg-12 mt-2"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:0===this.props.total_netto||this.props.onSend},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{className:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))}}]),a}(i.Component);N=Object(k.a)({form:"FormSelisihTimbangStock",enableReinitialize:!0})(N);var F=Object(f.a)("FormSelisihTimbangStock"),x=Object(c.b)((function(e){var t,a,n,l,o=F(e,"total_netto","total_bruto"),r=o.total_netto,i=o.total_bruto;return{selisih_totalan:e.provinsi.selisih_totalan,lokasi:e.provinsi.dataLokasiPindah,onSend:e.provinsi.onSend,total_netto:e.provinsi.selisih_totalan.total_netto||0,initialValues:{kode_kelompok:{value:e.provinsi.selisih_totalan.kode_kelompok,label:e.provinsi.selisih_totalan.kode_kelompok},lokasi:{value:e.provinsi.selisih_totalan.kode_lokasi,label:e.provinsi.selisih_totalan.kode_lokasi},tanggal:(null===(t=e.provinsi)||void 0===t||null===(a=t.selisih_totalan)||void 0===a?void 0:a.tanggal)?Object(O.C)(null===(n=e.provinsi)||void 0===n||null===(l=n.selisih_totalan)||void 0===l?void 0:l.tanggal):Object(E.c)(),total_qty:e.provinsi.selisih_totalan.total_qty,total_gross:e.provinsi.selisih_totalan.total_gross,berat_bruto:Object(O.D)(e.provinsi.selisih_totalan.berat_bruto||0,3),berat_baki:Object(O.D)(e.provinsi.selisih_totalan.berat_baki||0,3),berat_lain:Object(O.D)(e.provinsi.selisih_totalan.berat_lain||0,3),total_bruto:Object(O.D)(e.provinsi.selisih_totalan.total_bruto||0,3),total_pkg:e.provinsi.selisih_totalan.total_pkg,total_netto:Object(O.D)(e.provinsi.selisih_totalan.total_netto||0,3),total_netto_selisih:parseFloat(e.provinsi.selisih_totalan.total_netto||0)-parseFloat(r||0),total_bruto_selisih:parseFloat(e.provinsi.selisih_totalan.total_bruto||0)-parseFloat(i||0)}}}))(N),w=a(129),D=a(1035),T=a.n(D),M=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={columns:[{dataField:"kode_jenis",text:"Kode Model",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kode_kategori",text:"Kode Jenis",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"kadar_modal",text:"Kadar Beli",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"qty",text:"Qty",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"qty_system",text:"Qty System",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"qty_selisih",text:"Qty Selisih",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}}},{dataField:"bruto",text:"Bruto",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}},{dataField:"bruto_system",text:"Bruto System",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}},{dataField:"bruto_selisih",text:"Bruto Selisih",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}},{dataField:"netto",text:"Netto",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}},{dataField:"netto_system",text:"Netto System",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}},{dataField:"netto_selisih",text:"Netto Selisih",align:"right",headerAlign:"right",sort:!0,headerStyle:function(){return{width:"10%"}},formatter:function(e){return Object(O.D)(e,3)}}],data:[{noFaktur:"-",kodeKategori:"-",kadarCetak:0,kadarTransaksi:0,kodeJenis:"-",noUrut:"-",brutoSelisih:0,nettoTimbang:0,nettoData:0,brutoTimbang:0,nettoSelisih:0,brutoData:0}],listLokasi:[]},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.e)(localStorage.getItem("noFaktur"))),this.props.dispatch(Object(d.b)()),this.props.dispatch(Object(w.g)())}},{key:"handleSubmit",value:function(e){var t=this,a={total_bruto:Object(O.b)(e.total_bruto),total_bruto_system:Object(O.b)(e.total_bruto),total_bruto_selisih:Object(O.b)(e.total_bruto_selisih),total_netto:Object(O.b)(e.total_netto),total_netto_system:Object(O.b)(e.total_netto),total_netto_selisih:Object(O.b)(e.total_netto_selisih),detail_barang:this.props.selisih_totalan};this.props.dispatch(Object(g.w)()),Object(p.f)("totalan-barang/selisih-totalan/end-totalan",a).then((function(){return t.props.dispatch(Object(g.m)())})).then((function(){return Object(b.b)("Selisih Berhasil Di Simpan")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return localStorage.removeItem("totalanTimbangan")})).then((function(){return t.props.dispatch(Object(d.b)())})).then((function(){return window.location.reload()})).catch((function(e){return Object(b.c)("Gagal Simpan Selisih, Detail : ".concat(e.response.data)).then((function(){return t.props.dispatch(Object(g.m)())}))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"card"},s.a.createElement(u.a,{title:this.props.onSend?"Sedang Mengambil Data...":"Selisih Totalan"}),s.a.createElement("div",{className:"card-body ".concat(this.props.onSend?"d-none":"")},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(x,{noFaktur:this.props.noFaktur,onSubmit:function(t){return e.handleSubmit(t)}})),s.a.createElement("br",null),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(h.a,{keyField:"kodeKelompok",data:this.props.selisih_totalan,columns:this.state.columns,search:!0,sort:{dataField:"bruto",order:"desc"}}))),s.a.createElement("div",{className:"card-body ".concat(this.props.onSend?"":"d-none")},s.a.createElement("div",{className:"col-lg-12 text-center"},s.a.createElement("img",{src:T.a,alt:"loadingImage"})))))}}]),a}(i.Component);t.default=Object(c.b)((function(e){return{noFaktur:e.provinsi.noFaktur,selisih_totalan:e.provinsi.selisih_totalan.detail_barang,onSend:e.provinsi.onSend}}),null)(M)},460:function(e,t,a){"use strict";var n=a(97),l=a.n(n),o=a(29);t.a=function(e){var t=e.getIn;return function(e,a){l()(e,"Form value must be specified");var n=a||function(e){return t(e,"form")};return function(a){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return l()(i.length,"No fields specified"),1===i.length?t(n(a),e+".values."+i[0]):i.reduce((function(l,r){var i=t(n(a),e+".values."+r);return void 0===i?l:o.a.setIn(l,r,i)}),{})}}}(o.a)},792:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d}));var n=a(0),l=a.n(n),o=a(440),r=a(48),i=a(33),s=a(43);function c(e){var t=Object(i.d)((function(e){return e.date.data})),a=Object(i.c)();return l.a.createElement("div",{className:e.className||"col-lg-3"},l.a.createElement(o.a,{name:e.name||"tanggal",component:r.a,label:e.label||"Tanggal",type:"text",placeholder:e.label?"Masukan ".concat(e.label):"Masukan Tanggal Awal",readOnly:e.readOnly,onChange:function(t){void 0!==e.onChange&&e.onChange(t),a(Object(s.j)(new Date(t)))},selected:new Date(t.split("-").reverse().join("-"))}))}function d(e){var t=Object(i.d)((function(e){return e.date})),a=t.from,n=t.to,c=Object(i.c)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className||"col-lg-3"},l.a.createElement(o.a,{name:"tglFrom",component:r.a,label:"Mulai Dari",type:"text",placeholder:"Masukan Tanggal Awal",readOnly:e.readOnly,onChange:void 0!==e.onChange?e.onChange:function(e){return c(Object(s.k)(new Date(e)))},selected:new Date(a.split("-").reverse().join("-"))})),l.a.createElement("div",{className:e.className||"col-lg-3"},l.a.createElement(o.a,{name:"tglTo",component:r.a,label:"Sampai Dengan",type:"text",placeholder:"Masukan Tanggal Akhir",readOnly:e.readOnly,onChange:void 0!==e.onChange?e.onChange:function(e){return c(Object(s.l)(new Date(e)))},selected:new Date(n.split("-").reverse().join("-"))})))}}}]);