/*! For license information please see 36.d7b9dabf.chunk.js.LICENSE.txt */
(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[36],{1204:function(t,e,r){"use strict";r.r(e);var n=r(6),a=r(182),o=r(52),i=r(53),c=r(54),l=r(55),u=r(0),s=r.n(u),p=r(33),h=r(39),f=r(58),d=r(440),g=r(441),b=r(460),m=r(20),v=r(803),k=r(308),y=r(96),O=r.n(y),j=r(10),x=r(302),S=r(129),w=r(48),E=r(303),_=r(1),F=r(56),L=r(841),T=r(76),N=r(794),A=r(130),D=r(792),R=r(43);function G(){G=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(F){l=function(t,e,r){return t[e]=r}}function u(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),c=new w(a||[]);return n(i,"_invoke",{value:O(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(F){return{type:"throw",arg:F}}}t.wrap=u;var p={};function h(){}function f(){}function d(){}var g={};l(g,o,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(E([])));m&&m!==e&&r.call(m,o)&&(g=m);var v=d.prototype=h.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){var a;n(this,"_invoke",{value:function(n,o){function i(){return new e((function(a,i){!function n(a,o,i,c){var l=s(t[a],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function O(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return _()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=j(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=s(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=d,n(v,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:f,configurable:!0}),f.displayName=l(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,c,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},k(y.prototype),l(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var P=Object(u.lazy)((function(){return Promise.all([r.e(0),r.e(39)]).then(r.bind(null,923))})),B=Object(u.lazy)((function(){return Promise.resolve().then(r.bind(null,305))})),C=function(t){Object(c.a)(r,t);var e=Object(l.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).inputChange=function(t){return function(e){localStorage.setItem("temp-TolakanReturnSupplierKet",e.target.value),n.setState(Object(a.a)({},t,e))}},n.state={supplierList:[],DataSupplier:[],startDate:Object(F.b)(),kodeSupplier:"",namaSupplier:"",tanggal:Object(F.b)(),noBon:Object(_.L)()+"/TLK-S-"+Object(_.J)(),status:"",tampungBarang:[],kode_lokasi:"PUSAT",columns:[{dataField:"kode_jenis",text:"Kode Model",footer:""},{dataField:"kadar_cetak",text:"Cap\nKode",align:"right",headerAlign:"right",headerStyle:function(){return{width:"8%"}},footer:""},{dataField:"qty",text:"Qty",align:"right",headerAlign:"right",headerStyle:function(){return{width:"5%"}},formatter:function(t){return t},footerAlign:"right",footer:function(t){return t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0)}},{dataField:"p",text:"P",align:"right",headerAlign:"right",headerStyle:function(){return{width:"5%"}},formatter:function(t){return t},footerAlign:"right",footer:function(t){return t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0)}},{dataField:"k",text:"K",align:"right",headerAlign:"right",headerStyle:function(){return{width:"5%"}},formatter:function(t){return t},footerAlign:"right",footer:function(t){return t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0)}},{dataField:"pkg",text:"Pkg\n(Gr)",align:"right",headerAlign:"right",headerStyle:function(){return{width:"7%"}},formatter:function(t){return Object(_.D)(t)},footerAlign:"right",footer:function(t){return Object(_.D)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right",formatter:function(t){return Object(_.D)(t)},footerAlign:"right",footer:function(t){return Object(_.D)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"gross",text:"Gross (Gr)",align:"right",headerAlign:"right",headerStyle:function(){return{width:"7%"}},formatter:function(t){return Object(_.D)(t)},footerAlign:"right",footer:function(t){return Object(_.D)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"kadar_beli",text:"Kadar Jual",align:"right",headerAlign:"right",footer:""},{dataField:"netto",text:"Murni\n(Gr)",align:"right",headerAlign:"right",fformatter:function(t){return Object(_.D)(t)},footerAlign:"right",footer:function(t){return Object(_.D)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"ongkos_rp",text:"Ongkos\n(RP)",align:"right",headerAlign:"right",formatter:function(t){return s.a.createElement("span",null,"Rp. ",Object(_.G)(t))},footerAlign:"right",footer:function(t){return Object(_.G)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"harga_beli",text:"Harga Beli\n(RP)",align:"right",headerAlign:"right",formatter:function(t){return s.a.createElement("span",null,"Rp. ",Object(_.G)(t))},footerAlign:"right",footer:function(t){return Object(_.G)(t.reduce((function(t,e){return parseFloat(Object(_.xb)(t))+parseFloat(Object(_.xb)(e))}),0))}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(t,e,r){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return Object(v.a)("TolakanReturnSupplier",r,n.props.dispatch,Object(f.m)())}},s.a.createElement(k.a,{id:"hapus",type:"dark",effect:"solid"},s.a.createElement("span",null,"Hapus")),s.a.createElement("i",{className:"fa fa-trash mr-1"})),s.a.createElement("br",null))}}]},n}return Object(i.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.props.dispatch(Object(S.h)()),this.props.dispatch(Object(h.b)()),this.props.dispatch(Object(f.m)()),this.props.dispatch(Object(T.k)()),this.props.dispatch(Object(A.f)()),this.props.dispatch(Object(S.g)()),setTimeout(Object(n.a)(G().mark((function e(){var r,n,a,o,i;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=localStorage.getItem("temp-TolakanReturnSupplierSupplier"),n=localStorage.getItem("temp-TolakanReturnSupplierDate"),a=localStorage.getItem("temp-TolakanReturnSupplierKet"),o=localStorage.getItem("temp-TolakanReturnSupplierBaki"),i=localStorage.getItem("temp-TolakanReturnSupplierLokasi"),null!==r&&(t.props.change("supplier",{value:r,label:r.split("|")[1]}),t.setState({kodeSupplier:r.split("|")[0],namaSupplier:r.split("|")[1]})),null!==o&&t.props.change("kode_baki",JSON.parse(o)),null!==i&&t.props.change("kode_lokasi",JSON.parse(i)),null!==n&&(t.props.change("tanggal",new Date(n)),t.props.dispatch(Object(R.j)(new Date(n)))),null!==a&&t.props.change("keterangan",a);case 10:case"end":return e.stop()}}),e)}))),300)}},{key:"handleSubmit",value:function(t){this.props.dispatch(Object(L.a)())}},{key:"returnSupplierSubmit",value:function(){return""===this.props.tanggal_selected?(Object(m.e)("Mohon isi Tanggal"),!1):null===localStorage.getItem("TolakanReturnSupplier")||0===JSON.parse(localStorage.getItem("TolakanReturnSupplier")).length?(Object(m.e)("Barang masih kosong, silahkan tambahkan barang"),!1):""===this.props.supplier_selected?(Object(m.e)("Mohon pilih Supplier"),!1):void this.props.dispatch(Object(L.b)())}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"container-fluid",style:{color:"black"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"card"},s.a.createElement(x.a,{title:"Tolakan Return Supplier",listDeleteLocal:["TolakanReturnSupplier","noFaktur","temp-TolakanReturnSupplierSupplier","temp-TolakanReturnSupplierDate","temp-TolakanReturnSupplierKet","temp-TolakanReturnSupplierBaki","temp-TolakanReturnSupplierLokasi"]}),s.a.createElement("div",{className:"card-body"},s.a.createElement(B,{content:s.a.createElement(u.Suspense,{fallback:s.a.createElement(O.a,{width:"100%",height:400})},s.a.createElement(P,{from:"tolakan",onSubmit:function(e){return t.handleSubmit(e)},noFaktur:this.props.noFaktur})),title:"Tambah Data Barang"}),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("form",{id:"myForm"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(d.a,{name:"supplier",component:w.c,options:this.props.supplier.map((function(t){return{value:"".concat(t.kode_supplier,"|").concat(t.nama_supplier),name:t.nama_supplier}})),type:"text",label:"Supplier",placeholder:"Masukan Supplier",onChange:function(e){t.setState({kodeSupplier:e.value.split("|")[0]}),localStorage.setItem("temp-TolakanReturnSupplierSupplier",e.value)}})),s.a.createElement("div",{className:Object(_.ab)()?"col-md-3 col-lg-3":"col-md-3 col-lg-4 d-none"},s.a.createElement(d.a,{name:"kode_lokasi",label:"Lokasi Penyimpanan",component:w.c,options:this.props.lokasiPindah.filter((function(t){return"SALES"!==t.kode_lokasi})).map((function(t){return{value:t.kode_lokasi,name:t.nama_lokasi}})),search:!0,placeholder:"Silahkan Pilih Supplier",onChange:function(e){localStorage.setItem("temp-TolakanReturnSupplierLokasi",JSON.stringify(e)),t.setState({kode_lokasi:e.value}),t.props.change("kode_baki",void 0)}})),s.a.createElement(N.a,{kode_lokasi:"PUSAT",className:"col-lg-4",namaLocal:"temp-TolakanReturnSupplierBaki",removeAllValue:!0}),s.a.createElement(D.a,{onChange:function(t){return localStorage.setItem("temp-TolakanReturnSupplierDate",t)}}),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(d.a,{name:"keterangan",label:"Keterangan",component:w.b,onChange:this.inputChange("keterangan"),type:"text"}))))),s.a.createElement("div",{className:"col-md-12 col-lg-12 mt-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"}),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",disabled:void 0===this.props.supplier_selected,onClick:function(){return t.props.dispatch(Object(j.j)())}},"Tambah Data",s.a.createElement("i",{className:"fa fa-plus ml-3","aria-hidden":"true"})))))),s.a.createElement("div",{className:"col-lg-12 mt-3"},s.a.createElement(E.a,{keyField:"id",data:this.props.returnSupplier,columns:this.state.columns}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:function(){return t.returnSupplierSubmit()}},this.props.onSend?s.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",s.a.createElement("i",{className:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))))))}}]),r}(u.Component);C=Object(g.a)({form:"TolakanReturnSupplier",enableReinitialize:!0})(C);var I=Object(b.a)("TolakanReturnSupplier");e.default=Object(p.b)((function(t){var e=I(t,"supplier","tanggal","no_bon"),r=e.supplier,n=e.tanggal,a=e.no_bon;return{initialValues:{tanggal:Object(F.c)()},noFaktur:t.provinsi.noFaktur,username:t.provinsi.username,returnSupplier:t.provinsi.listTolakanReturnSupplier,alert:t.provinsi.alert,error:t.provinsi.error,onSend:t.provinsi.onSend,lokasiPindah:t.provinsi.dataLokasiPindah,supplier:t.supplierState.listSupplier||[],no_bon_selected:a,tanggal_selected:n,supplier_selected:r}}))(C)},460:function(t,e,r){"use strict";var n=r(97),a=r.n(n),o=r(29);e.a=function(t){var e=t.getIn;return function(t,r){a()(t,"Form value must be specified");var n=r||function(t){return e(t,"form")};return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=arguments[l];return a()(c.length,"No fields specified"),1===c.length?e(n(r),t+".values."+c[0]):c.reduce((function(a,i){var c=e(n(r),t+".values."+i);return void 0===c?a:o.a.setIn(a,i,c)}),{})}}}(o.a)},792:function(t,e,r){"use strict";r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return s}));var n=r(0),a=r.n(n),o=r(440),i=r(48),c=r(33),l=r(43);function u(t){var e=Object(c.d)((function(t){return t.date.data})),r=Object(c.c)();return a.a.createElement("div",{className:t.className||"col-lg-3"},a.a.createElement(o.a,{name:t.name||"tanggal",component:i.a,label:t.label||"Tanggal",type:"text",placeholder:t.label?"Masukan ".concat(t.label):"Masukan Tanggal Awal",readOnly:t.readOnly,onChange:function(e){void 0!==t.onChange&&t.onChange(e),r(Object(l.j)(new Date(e)))},selected:new Date(e.split("-").reverse().join("-"))}))}function s(t){var e=Object(c.d)((function(t){return t.date})),r=e.from,n=e.to,u=Object(c.c)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:t.className||"col-lg-3"},a.a.createElement(o.a,{name:"tglFrom",component:i.a,label:"Mulai Dari",type:"text",placeholder:"Masukan Tanggal Awal",readOnly:t.readOnly,onChange:void 0!==t.onChange?t.onChange:function(t){return u(Object(l.k)(new Date(t)))},selected:new Date(r.split("-").reverse().join("-"))})),a.a.createElement("div",{className:t.className||"col-lg-3"},a.a.createElement(o.a,{name:"tglTo",component:i.a,label:"Sampai Dengan",type:"text",placeholder:"Masukan Tanggal Akhir",readOnly:t.readOnly,onChange:void 0!==t.onChange?t.onChange:function(t){return u(Object(l.l)(new Date(t)))},selected:new Date(n.split("-").reverse().join("-"))})))}},794:function(t,e,r){"use strict";var n=r(0),a=r.n(n),o=r(33),i=r(440),c=r(130),l=r(1),u=r(48);e.a=function(t){var e=Object(o.d)((function(t){return t.bakiState.listBaki})),r=Object(o.c)(),n=[{value:"ALL",name:"SEMUA"}];return e.filter((function(e){return e.kode_lokasi===t.kode_lokasi})).map((function(t){return n.push({value:t.kode_baki,name:t.nama_baki}),!0})),t.removeAllValue&&(n=n.filter((function(t){return"ALL"!==t.value}))),a.a.createElement("div",{className:Object(l.k)(t.className)},a.a.createElement(i.a,{name:t.kode||"kode_baki",component:u.c,options:n,type:"text",label:"Kode Baki",placeholder:"Pilih Kode Baki",disabled:t.disabled,onChange:function(e){localStorage.setItem(t.namaLocal,JSON.stringify(e)),"ALL"!==e.value&&r(Object(c.i)(e.value))}}))}},803:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(15),a=r.n(n),o=function(t,e,r,n){a.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){if(o.isConfirmed){var i=JSON.parse(localStorage.getItem(t))||[];i.splice(e,1),localStorage.setItem(t,JSON.stringify(i)),a.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return r(n)}))}}))}},841:function(t,e,r){"use strict";r.d(e,"a",(function(){return v})),r.d(e,"b",(function(){return k}));var n=r(6),a=r(8),o=r(4),i=r(5),c=r(9),l=r(23),u=r(1),s=r(57),p=r(39),h=r(3),f=r(10),d=r(58),g=r(20),b=r(43);function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(L){l=function(t,e,r){return t[e]=r}}function u(t,e,r,a){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),c=new E(a||[]);return n(i,"_invoke",{value:j(t,r,c)}),i}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=u;var p={};function h(){}function f(){}function d(){}var g={};l(g,o,(function(){return this}));var b=Object.getPrototypeOf,v=b&&b(b(_([])));v&&v!==e&&r.call(v,o)&&(g=v);var k=d.prototype=h.prototype=Object.create(g);function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){var a;n(this,"_invoke",{value:function(n,o){function i(){return new e((function(a,i){!function n(a,o,i,c){var l=s(t[a],t,o);if("throw"!==l.type){var u=l.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}(n,o,a,i)}))}return a=a?a.then(i,i):i()}})}function j(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return F()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=s(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function _(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:void 0,done:!0}}return f.prototype=d,n(k,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:f,configurable:!0}),f.displayName=l(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},y(O.prototype),l(O.prototype,i,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new O(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},y(k),l(k,c,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=_,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),w(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;w(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var v=function(t){return function(){var t=Object(n.a)(m().mark((function t(e,r){var n,a,i,c,l,s,p,b,v,k,y,O;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(Object(h.w)()),n=r(),a=n.form.TerimaSupplier.values,(i=Object(u.tb)(a)).kodeJenis){t.next=8;break}return Object(g.e)("Mohon Pilih Barang"),e(Object(h.m)()),t.abrupt("return",!1);case 8:if(c=i.kodeJenis?i.kodeJenis:"DEFAULT|DEFAULT|DEFAULT|DEFAULT",l=c.split("|"),s={},0!==(s=Object(u.db)()?{kode_kategori:i.kode_kategori,kode_jenis:l[0],kadar_cetak:parseFloat(i.kadar||0).toString(),kadar_beli:parseFloat(Object(u.xb)(i.kadarTransaksi)),no_barcode:"-",qty:Object(u.xb)(i.qty)||1,p:parseFloat(i.p)||0,k:parseFloat(i.k)||0,pkg:parseFloat(Object(u.xb)(i.pkg))||0,gross:parseFloat(Object(u.xb)(i.gross))||0,bruto:parseFloat(Object(u.xb)(i.bruto))||0,netto:parseFloat(Object(u.xb)(i.netto))||0,ongkos_rp:parseFloat(Object(u.xb)(i.rp)),harga_beli:0}:{kode_kategori:i.kode_kategori,kode_jenis:l[0],kadar_cetak:parseFloat(i.kadar||0).toString(),kadar_beli:parseFloat(Object(u.xb)(i.kadarTransaksi)),no_barcode:"-",qty:Object(u.xb)(i.qty)||1,p:parseFloat(Object(u.xb)(i.p))||0,k:parseFloat(Object(u.xb)(i.k))||0,pkg:parseFloat(Object(u.xb)(i.pkg))||0,gross:parseFloat(Object(u.xb)(i.gross))||0,bruto:parseFloat(Object(u.xb)(i.bruto))||0,netto:parseFloat(Object(u.xb)(i.netto))||0,ongkos_rp:parseFloat(Object(u.xb)(i.rp)),harga_beli:0}).netto){t.next=16;break}return Object(g.e)("Netto Masih Kosong, Apakah Inputan Sudah Benar ?"),e(Object(h.m)()),t.abrupt("return");case 16:return t.next=18,Object(h.v)({name:"TolakanReturnSupplier",target:"kode_jenis",value:s.kode_jenis,payload:s});case 18:e(Object(h.m)()),e(Object(o.b)("TerimaSupplier")),e(Object(d.m)()),Object(u.pb)()?(p=n.kodeBarangState.listKodeBarang,b=i.kode_kategori,v=i.kadar,k=i.kadarTransaksi,y=i.keterangan,O=Object(u.I)(p,i.kodeJenis,!0),e(Object(o.b)("TerimaSupplier")),e(Object(o.a)("TerimaSupplier","kode_kategori",b)),e(Object(o.a)("TerimaSupplier","kodeJenis",O)),e(Object(o.a)("TerimaSupplier","keterangan",y)),e(Object(o.a)("TerimaSupplier","kadar",v)),e(Object(o.a)("TerimaSupplier","kadarTransaksi",k)),Object(u.zb)("Kode Barcode")):e(Object(f.g)());case 22:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},k=function(t){return function(){var t=Object(n.a)(m().mark((function t(e,r){var g,v,k,y,O,j,x,S,w,E,_,F,L,T;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(h.w)()),g=r(),v=g.form.TolakanReturnSupplier.values,k=Object(u.tb)(v),y=Object(u.L)()+"/TRS-"+Object(u.J)(),t.next=7,Object(c.b)("TolakanReturnSupplier");case 7:O=t.sent,j=O.map((function(t){return parseFloat(Object(u.xb)(t.qty))})).reduce((function(t,e){return t+e}),0),x=O.map((function(t){return parseFloat(Object(u.xb)(t.p))})).reduce((function(t,e){return t+e}),0),S=O.map((function(t){return parseFloat(Object(u.xb)(t.k))})).reduce((function(t,e){return t+e}),0),w=O.map((function(t){return parseFloat(Object(u.xb)(t.pkg))})).reduce((function(t,e){return t+e}),0),E=O.map((function(t){return parseFloat(Object(u.xb)(t.bruto))})).reduce((function(t,e){return t+e}),0),_=O.map((function(t){return parseFloat(Object(u.xb)(t.netto))})).reduce((function(t,e){return t+e}),0),F=O.map((function(t){return parseFloat(Object(u.xb)(t.ongkos_rp))})).reduce((function(t,e){return t+e}),0),console.log(k),L={no_tolak:y,tanggal:Object(u.A)(g.date.data),no_bon:y,kode_supplier:k.supplier.split("|")[0],kode_baki:k.kode_baki,kode_lokasi:k.kode_lokasi||"PUSAT",jenis_trx:"RETUR",keterangan:k.keterangan,total_qty:parseFloat(Object(u.xb)(j)),total_p:parseFloat(Object(u.xb)(x)),total_k:parseFloat(Object(u.xb)(S)),total_pkg:parseFloat(Object(u.xb)(w)),total_bruto:parseFloat(Object(u.xb)(E)),total_netto:parseFloat(Object(u.xb)(_)),total_ongkos:parseFloat(Object(u.xb)(F)),detail_barang:O},e(Object(o.a)("TolakanReturnSupplier","supplier",{value:k.supplier,label:k.supplier.split("|")[1]})),e(Object(o.a)("TolakanReturnSupplier","tanggal",new Date(g.date.data))),T=a.b.loading("Sedang Mengirim... \ud83d\udce4\ud83d\udce4"),Object(i.f)("trx-tolakan-supplier/simpan?kode_toko="+Object(u.L)(),L).then(function(){var t=Object(n.a)(m().mark((function t(r){var n,i,v,y;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.b.update(T,{render:r.data.message+" ... \u2714\ufe0f\u2714\ufe0f",type:"success",isLoading:!1}),n=[],t.next=4,Object(c.b)("TolakanReturnSupplier");case 4:(i=t.sent).forEach((function(t,e){var r=[++e,t.kode_jenis,{content:t.qty,styles:{halign:"right"}},{content:t.kadar_cetak,styles:{halign:"right"}},{content:Object(u.D)(t.p),styles:{halign:"right"}},{content:Object(u.D)(t.k),styles:{halign:"right"}},{content:Object(u.D)(t.pkg),styles:{halign:"right"}},{content:Object(u.D)(t.bruto),styles:{halign:"right"}},{content:Object(u.D)(t.gross),styles:{halign:"right"}},{content:t.kadar_beli,styles:{halign:"right"}},{content:Object(u.D)(t.netto,3),styles:{halign:"right"}},{content:Object(u.G)(t.ongkos_rp),styles:{halign:"right"}}];n.push(r)})),v=["","",{content:i.map((function(t){return parseFloat(Object(u.xb)(t.qty))})).reduce((function(t,e){return t+e}),0),styles:{halign:"right"}},"","","",{content:Object(u.D)(i.map((function(t){return parseFloat(Object(u.xb)(t.pkg))})).reduce((function(t,e){return t+e}),0)),styles:{halign:"right"}},{content:Object(u.D)(i.map((function(t){return parseFloat(Object(u.xb)(t.bruto))})).reduce((function(t,e){return t+e}),0)),styles:{halign:"right"}},{content:Object(u.D)(i.map((function(t){return parseFloat(Object(u.xb)(t.gross))})).reduce((function(t,e){return t+e}),0)),styles:{halign:"right"}},"",{content:Object(u.D)(i.map((function(t){return parseFloat(t.netto)})).reduce((function(t,e){return t+e}),0),3),styles:{halign:"right"}},{content:Object(u.G)(i.map((function(t){return parseFloat(t.ongkos_rp)})).reduce((function(t,e){return t+e}),0)),styles:{halign:"right"}}],y=[[{content:"No"},{content:"Kode\nModel"},{content:"Qty",styles:{halign:"right"}},{content:"Kadar\nCetak",styles:{halign:"right"}},{content:"P",styles:{halign:"right"}},{content:"K",styles:{halign:"right"}},{content:"Bungkus\n(Gr)",styles:{halign:"right"}},{content:"Berat\n(Gr)",styles:{halign:"right"}},{content:"Gross\n(Gr)",styles:{halign:"right"}},{content:"Kode\nTukar",styles:{halign:"right"}},{content:"Murni\n(Gr)",styles:{halign:"right"}},{content:"Ongkos\n(Rp)",styles:{halign:"right"}}]],Object(s.a)("No Bon",r.data.no_bon,"Tanggal",g.date.data,"Supplier",k.supplier.split("|")[0],"Keterangan",Object(u.Gb)(k.keterangan),Object(u.P)(),Object(l.b)(),"",y,"Tolakan Return Barang Supplier",n,[v]),Object(l.c)(["TolakanReturnSupplier","noFaktur","temp-TolakanReturnSupplierSupplier","temp-TolakanReturnSupplierDate","temp-TolakanReturnSupplierKet","temp-TolakanReturnSupplierBaki","temp-TolakanReturnSupplierLokasi"]),e(Object(b.j)(new Date(Object(l.b)()))),e(Object(h.m)()),e(Object(p.b)()),e(Object(d.m)()),e(Object(o.b)("TolakanReturnSupplier")),e(Object(f.g)()),window.location.reload();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){var e;a.b.update(T,{render:"Data Gagal Ditambahkan.. , ".concat((null===t||void 0===t||null===(e=t.response)||void 0===e?void 0:e.data)||""),type:"info",isLoading:!1})}));case 21:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}}]);