/*! For license information please see 203.7cedf83b.chunk.js.LICENSE.txt */
(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[203],{1171:function(e,t,a){"use strict";a.r(t);var r=a(6),o=a(182),n=a(52),s=a(53),i=a(54),l=a(55),c=a(0),u=a.n(c),p=a(33),m=a(4),h=a(440),g=a(441),d=a(99),f=a(39),v=a(15),k=a.n(v),_=a(61),b=a(3),y=a(57),S=a(20),E=a(308),O=a(96),L=a.n(O),N=a(10),j=a(302),F=a(146),w=a(145),x=a(51),I=a(5),C=a(48),B=a(23),q=a(1);function R(){R=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},n=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(F){l=function(e,t,a){return e[t]=a}}function c(e,t,a,o){var n=t&&t.prototype instanceof m?t:m,s=Object.create(n.prototype),i=new L(o||[]);return r(s,"_invoke",{value:y(e,a,i)}),s}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(F){return{type:"throw",arg:F}}}e.wrap=c;var p={};function m(){}function h(){}function g(){}var d={};l(d,n,(function(){return this}));var f=Object.getPrototypeOf,v=f&&f(f(N([])));v&&v!==t&&a.call(v,n)&&(d=v);var k=g.prototype=m.prototype=Object.create(d);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var o;r(this,"_invoke",{value:function(r,n){function s(){return new t((function(o,s){!function r(o,n,s,i){var l=u(e[o],e,n);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(p).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,i)}))}i(l.arg)}(r,n,o,s)}))}return o=o?o.then(s,s):s()}})}function y(e,t,a){var r="suspendedStart";return function(o,n){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw n;return j()}for(a.method=o,a.arg=n;;){var s=a.delegate;if(s){var i=S(s,a);if(i){if(i===p)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var l=u(e,t,a);if("normal"===l.type){if(r=a.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(r="completed",a.method="throw",a.arg=l.arg)}}}function S(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),p;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var n=o.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=g,r(k,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:h,configurable:!0}),h.displayName=l(g,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,i,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,s,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,r,o,n){void 0===n&&(n=Promise);var s=new b(c(t,a,r,o),n);return e.isGeneratorFunction(a)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},_(k),l(k,i,"Generator"),l(k,n,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return s.type="throw",s.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var i=a.call(n,"catchLoc"),l=a.call(n,"finallyLoc");if(i&&l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var o=r.arg;O(a)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:N(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),p}},e}var T=Object(c.lazy)((function(){return Promise.resolve().then(a.bind(null,305))})),J=Object(c.lazy)((function(){return a.e(160).then(a.bind(null,1145))})),V=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).inputChange=function(e){return function(t){r.setState(Object(o.a)({},e,t.target.value))}},r.state={listLokasi:[],listSales:[],listCustomer:[],listPacking:[],kodeCustomer:"",columns:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right"},{dataField:"qty",text:"Qty",align:"right",headerAlign:"right"},{dataField:"ongkos_rp",text:"Ongkos Reparasi(Rp)",align:"right",headerAlign:"right",formatter:function(e,t){return parseInt(e).toLocaleString("id-ID")}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,t,a){return u.a.createElement("div",{className:"text-center"},u.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return r.deleteRow(a,t.netto_disc)}},u.a.createElement(E.a,{id:"hapus",type:"dark",effect:"solid"},u.a.createElement("span",null,"Hapus")),u.a.createElement("i",{className:"fa fa-trash mr-1"})),u.a.createElement("br",null))}}],noBon:"",namaCustomer:"",lokasi:"",sales:"",namaToko:"",tanggal:"",data:"",field_level1:"col-lg-4 invisible",field_level2:"col-lg-4 invisible"},r}return Object(s.a)(a,[{key:"deleteRow",value:function(e,t){var a=this;k.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(r){if(r.isConfirmed){var o=JSON.parse(localStorage.getItem("transaksiReparasi"))||[];o.splice(e,1),localStorage.setItem("transaksiReparasi",JSON.stringify(o));var n=localStorage.getItem("GrandTotalNetto"),s=parseFloat(n)-parseFloat(t);localStorage.setItem("GrandTotalNetto",parseFloat(s).toFixed(3)),k.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return a.props.dispatch(Object(_.l)())}))}}))}},{key:"componentDidMount",value:function(){localStorage.removeItem("transaksiReparasi_level2"),localStorage.removeItem("transaksiReparasi_level3"),localStorage.removeItem("nota_reparasi_level1"),localStorage.removeItem("nota_reparasi_level2"),localStorage.removeItem("nota_reparasi_level3"),localStorage.removeItem("transaksiReparasi"),localStorage.removeItem("temp_data_reparasi"),this.props.dispatch(Object(_.l)()),this.props.dispatch(Object(F.e)()),this.props.dispatch(Object(w.f)()),this.props.dispatch(Object(x.o)()),this.props.dispatch(Object(f.b)()),this.setState({noBon:Object(q.L)()+"/REP-"+Object(q.J)()})}},{key:"handleSubmit",value:function(){var e=Object(r.a)(R().mark((function e(t){var a,r,o,n,s=this;return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=0,r=0,o="LEVEL2"===this.state.level_customer?this.state.kodeCustomer:localStorage.getItem("customer_2"),n="LEVEL3"===this.state.level_customer?this.state.kodeCustomer:"-",e.next=6,Object(I.b)("/kelompok-harga/get/by-jenis-and-customer/".concat(o,"&").concat(t.kodeBarang)).then((function(e){return a=e.data.ongkos_reparasi||0})).catch((function(){return a=0}));case 6:return e.next=8,Object(I.b)("/kelompok-harga/get/by-jenis-and-customer/".concat(n,"&").concat(t.kodeBarang)).then((function(e){return r=e.data.ongkos_reparasi||0})).catch((function(){return r=0}));case 8:Object(I.b)("jenis/get/by-kode-jenis/".concat(t.kodeBarang)).then((function(e){var o=t.kodeKategori,n=JSON.parse(localStorage.getItem("nota_reparasi_level1"))||[],i=JSON.parse(localStorage.getItem("nota_reparasi_level2"))||[],l=JSON.parse(localStorage.getItem("nota_reparasi_level3"))||[],c=n.findIndex((function(e){return e.kode_kategori===o})),u=i.findIndex((function(e){return e.kode_kategori===o})),p=l.findIndex((function(e){return e.kode_kategori===o}));if(-1!==c){var h={ongkos_rp:parseFloat(void 0===t.rp?0:t.rp)*parseFloat(t.qty)+parseFloat(n[c].ongkos_rp),bruto:(parseFloat(t.bruto||0)+parseFloat(n[c].bruto)).toFixed(3),kode_kategori:t.kodeBarang,qty:t.qty},g={ongkos_rp:parseFloat(a)*parseFloat(t.qty)+parseFloat(i[c].ongkos_rp),bruto:(parseFloat(t.bruto||0)+parseFloat(i[c].bruto)).toFixed(3),kode_kategori:t.kodeBarang,qty:t.qty},d={ongkos_rp:parseFloat(r)*parseFloat(t.qty)+parseFloat(l[c].ongkos_rp),bruto:(parseFloat(t.bruto||0)+parseFloat(l[c].bruto)).toFixed(3),kode_kategori:t.kodeBarang,qty:t.qty};n.push(h),i.push(g),l.push(d),n.splice(c,1),i.splice(u,1),l.splice(p,1),localStorage.setItem("nota_reparasi_level1",JSON.stringify(n)),localStorage.setItem("nota_reparasi_level2",JSON.stringify(i)),localStorage.setItem("nota_reparasi_level3",JSON.stringify(l))}else{var f={ongkos_rp:parseFloat(void 0===t.rp?0:t.rp)*parseFloat(t.qty),bruto:parseFloat(t.bruto||0).toFixed(3),kode_kategori:t.kodeBarang,qty:t.qty},v={ongkos_rp:parseFloat(void 0===a?0:a)*parseFloat(t.qty),bruto:parseFloat(t.bruto||0),kode_kategori:t.kodeBarang,qty:t.qty},b={ongkos_rp:parseFloat(void 0===r?0:r)*parseFloat(t.qty),bruto:parseFloat(t.bruto||0),kode_kategori:t.kodeBarang,qty:t.qty};n.push(f),i.push(v),l.push(b),localStorage.setItem("nota_reparasi_level1",JSON.stringify(n)),localStorage.setItem("nota_reparasi_level2",JSON.stringify(i)),localStorage.setItem("nota_reparasi_level3",JSON.stringify(l))}var y={qty:t.qty,ongkos_rp:parseFloat(void 0===t.rp?0:t.rp),bruto:parseFloat(t.bruto||0).toFixed(3),kode_jenis:t.kodeBarang},S={qty:t.qty,ongkos_rp:parseFloat(void 0===a?0:a),bruto:parseFloat(t.bruto||0).toFixed(3),kode_jenis:t.kodeBarang},E={qty:t.qty,ongkos_rp:parseFloat(void 0===r?0:r),bruto:parseFloat(t.bruto||0).toFixed(3),kode_jenis:t.kodeBarang},O=JSON.parse(localStorage.getItem("transaksiReparasi"))||[],L=JSON.parse(localStorage.getItem("transaksiReparasi_level2"))||[],N=JSON.parse(localStorage.getItem("transaksiReparasi_level3"))||[];O.push(y),L.push(S),N.push(E),localStorage.setItem("transaksiReparasi",JSON.stringify(O)),localStorage.setItem("transaksiReparasi_level2",JSON.stringify(L)),localStorage.setItem("transaksiReparasi_level3",JSON.stringify(N)),k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}),s.props.dispatch(Object(_.l)()),s.props.dispatch(Object(m.b)("FormTransaksiReparasi"))})).catch((function(e){return Object(S.c)("Kode Kelompok Belum Disesuaikan, Mohon Sesuaikan Dahulu")}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transaksiPenjualanSubmit",value:function(){var e=this;if(null===localStorage.getItem("temp_data_reparasi"))return Object(S.e)("Barang masih kosong, Silahkan tambah barang"),!1;if(""===this.state.noBon)return Object(S.e)("Mohon isi Nomor bon"),!1;if(""===this.state.lokasi)return Object(S.e)("Mohon pilih lokasi"),!1;if(""===this.state.sales)return Object(S.e)("Mohon pilih Sales"),!1;var t={};switch(this.state.level_customer){case"LEVEL1":t={no_bon:this.state.noBon.toUpperCase(),no_reparasi:this.props.noFaktur.toUpperCase(),tanggal:this.state.tanggal||Object(B.b)(),kode_lokasi:this.state.lokasi.toUpperCase(),kode_sales:this.state.sales.toUpperCase(),kode_customer:this.state.kodeCustomer.toUpperCase(),level_customer_trx:this.state.level_customer,kode_customer_level2:localStorage.getItem("customer_1")||"-",kode_customer_level3:localStorage.getItem("customer_2")||"-",detail_barang:JSON.parse(localStorage.getItem("temp_data_reparasi"))};break;case"LEVEL2":t={no_bon:this.state.noBon.toUpperCase(),no_reparasi:this.props.noFaktur.toUpperCase(),tanggal:this.state.tanggal||Object(B.b)(),kode_lokasi:this.state.lokasi.toUpperCase(),kode_sales:this.state.sales.toUpperCase(),kode_customer:localStorage.getItem("customer_1")||"-",level_customer_trx:this.state.level_customer,kode_customer_level2:this.state.kodeCustomer,kode_customer_level3:localStorage.getItem("customer_2")||"-",detail_barang:JSON.parse(localStorage.getItem("temp_data_reparasi"))};break;case"LEVEL3":t={no_bon:this.state.noBon.toUpperCase(),no_reparasi:this.props.noFaktur.toUpperCase(),tanggal:this.state.tanggal||Object(B.b)(),kode_lokasi:this.state.lokasi.toUpperCase(),kode_sales:this.state.sales.toUpperCase(),kode_customer:localStorage.getItem("customer_1")||"-",level_customer_trx:this.state.level_customer,kode_customer_level2:localStorage.getItem("customer_2")||"-",kode_customer_level3:this.state.kodeCustomer,detail_barang:JSON.parse(localStorage.getItem("temp_data_reparasi"))};break;default:Object(S.e)("Ada Kesalah Saat Proses Level Customer")}this.props.dispatch(Object(b.w)()),Object(I.f)("reparasi/post/simpan-transaksi",t).then((function(){return k.a.fire({position:"top-end",icon:"success",text:"Data Berhasil Ditambahkan!",showConfirmButton:!1,timer:1500}).then((function(){switch(e.state.level_customer){case"LEVEL1":e.printNota("LEVEL1");break;case"LEVEL2":e.printNota("LEVEL1"),e.printNota("LEVEL2");break;case"LEVEL3":e.printNota("LEVEL1"),e.printNota("LEVEL2"),e.printNota("LEVEL3")}})).then((function(){return e.props.dispatch(Object(b.m)())})).then((function(){return localStorage.removeItem("transaksiReparasi")})).then((function(){return localStorage.removeItem("transaksiReparasi_level2")})).then((function(){return localStorage.removeItem("transaksiReparasi_level3")})).then((function(){return localStorage.removeItem("noFaktur")})).then((function(){return e.props.dispatch(Object(f.b)())})).then((function(){return e.props.dispatch(Object(_.l)())})).then((function(){return e.setState({noBon:"",namaCustomer:"",lokasi:"",sales:"",namaToko:"",tanggal:"",toko:""})})).then((function(){return document.getElementById("myForm").reset()})).then((function(){return window.location.reload()}))})).catch((function(t){return k.a.fire({position:"top-end",icon:"error",text:"".concat(t),showConfirmButton:!1,timer:1500}).then((function(){return e.props.dispatch(Object(b.m)())}))}))}},{key:"printNota",value:function(e){var t=[],a=[],r=[],o=[];switch(e){case"LEVEL1":(a=JSON.parse(localStorage.getItem("nota_reparasi_level1"))).forEach((function(e,a){var r=[++a,e.kode_kategori,{content:e.qty,styles:{halign:"right"}},{content:Object(q.D)(parseFloat(e.bruto)),styles:{halign:"right"}},{content:Object(q.G)(e.ongkos_rp),styles:{halign:"right"}}];t.push(r)})),r=["","",{content:a.map((function(e){return parseFloat(e.qty)})).reduce((function(e,t){return e+t}),0),styles:{halign:"right"}},{content:Object(q.D)(a.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0)),styles:{halign:"right"}},{content:Object(q.G)(a.map((function(e){return parseInt(e.ongkos_rp)})).reduce((function(e,t){return e+t}),0)),styles:{halign:"right"}}],console.log(JSON.stringify(t)),o=[["No","Kode Kategori",{content:"Qty",styles:{halign:"right"}},{content:"Bruto \n(Gr)",styles:{halign:"right"}},{content:"Ongkos Reparasi",styles:{halign:"right"}}]],Object(y.a)("No Bon",this.state.noBon,"Tanggal",this.state.tanggal||Object(B.b)(),"Sales",this.state.sales,"Customer",this.state.namaToko,Object(q.P)(),Object(B.b)(),"",o,"Transaksi Reparasi",t,r);break;case"LEVEL2":(a=JSON.parse(localStorage.getItem("nota_reparasi_level2"))).forEach((function(e,a){var r=[++a,e.kode_kategori,e.qty,parseFloat(e.bruto).toFixed(3),e.ongkos_rp.toLocaleString("id-ID")];t.push(r)})),r=["","",a.map((function(e){return parseFloat(e.qty)})).reduce((function(e,t){return e+t}),0),a.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0).toFixed(3),a.map((function(e){return parseInt(e.ongkos_rp)})).reduce((function(e,t){return e+t}),0).toLocaleString("id-ID")],t.push(r),console.log(JSON.stringify(t)),o=[["No","Kode Kategori",{content:"Qty",styles:{halign:"right"}},{content:"Bruto",styles:{halign:"right"}},{content:"Ongkos Reparasi",styles:{halign:"right"}}]],Object(y.a)("No Bon",this.state.noBon,"Tanggal",this.state.tanggal||Object(B.b)(),"Sales",this.state.sales,"Customer",this.state.namaToko,"ADMIN",this.state.tanggal||Object(B.b)(),"",o,"Transaksi Reparasi",t);break;case"LEVEL3":(a=JSON.parse(localStorage.getItem("nota_reparasi_level3"))).forEach((function(e,a){var r=[++a,e.kode_kategori,e.qty,parseFloat(e.bruto).toFixed(3),e.ongkos_rp.toLocaleString("id-ID")];t.push(r)})),r=["","",a.map((function(e){return parseFloat(e.qty)})).reduce((function(e,t){return e+t}),0),a.map((function(e){return parseFloat(e.bruto)})).reduce((function(e,t){return e+t}),0).toFixed(3),a.map((function(e){return parseInt(e.ongkos_rp)})).reduce((function(e,t){return e+t}),0).toLocaleString("id-ID")],t.push(r),console.log(JSON.stringify(t)),o=[["No","Kode Kategori",{content:"Qty",styles:{halign:"right"}},{content:"Bruto",styles:{halign:"right"}},{content:"Ongkos Reparasi",styles:{halign:"right"}}]],Object(y.a)("No Bon",this.state.noBon,"Tanggal",this.state.tanggal||Object(B.b)(),"","","Customer",this.state.namaToko,"ADMIN",this.state.tanggal||Object(B.b)(),"",o,"Transaksi Reparasi",t);break;default:Object(S.e)("Error Print")}}},{key:"onSubmit",value:function(e,t){this.setState(Object(o.a)({},t,e))}},{key:"onSubmitToko",value:function(e){var t=this,a=e.split("-")[0],r=e.split("-")[1],o=this.props.listCustomer.filter((function(e){return e.kode_customer===a}));this.setState({kodeCustomer:a,level_customer:o[0].level_customer,namaToko:r}),this.props.change("level_customer",o[0].level_customer),"LEVEL2"===o[0].level_customer?this.setState({field_level1:"col-lg-4",field_level2:"col-lg-4 invisible"}):"LEVEL3"===o[0].level_customer?this.setState({field_level1:"col-lg-4",field_level2:"col-lg-4"}):this.setState({field_level1:"col-lg-4 invisible",field_level2:"col-lg-4 invisible"}),Object(I.b)("customer/get/by-kode-customer/".concat(a)).then((function(e){var a=e.data;t.setState({kode_customer_level1:a.kode_customer_level1,kode_customer_level2:a.kode_customer_level2}),t.props.change("level_customer_1",a.kode_customer_level1),t.props.change("level_customer_2",a.kode_customer_level2)}))}},{key:"render",value:function(){var e=this,t=[{value:"SALES",name:"SALES"}];return this.props.listLokasi.map((function(e){var a={value:e.kode_lokasi,name:e.nama_lokasi};return t.push(a),!0})),u.a.createElement("div",{className:"container-fluid"},""!==String(this.props.listPacking)?u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("div",{className:"card"},u.a.createElement(j.a,{title:"Transaksi Reparasi"}),u.a.createElement("div",{className:"card-body"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-12"},u.a.createElement("form",{id:"myForm",onKeyDown:function(e){return"Enter"!==e.key}},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-lg-4 col-md-4"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:""},"Tanggal"),u.a.createElement("input",{name:"tanggal",type:"date",label:"Tanggal",className:"form-control",onChange:this.inputChange("tanggal"),defaultValue:Object(B.b)()}))),u.a.createElement("div",{className:"col-lg-4 col-md-4 d-none"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:""},"No Bon"),u.a.createElement("input",{name:"noBon",type:"text",label:"No Bon",className:"form-control",onChange:this.inputChange("noBon"),value:this.state.noBon}))),u.a.createElement("div",{className:"col-lg-4 col-md-4"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:""},"Lokasi"),u.a.createElement(d.a,{options:t,search:!0,placeholder:"Silahkan Pilih",onChange:function(t){return e.onSubmit(t,"lokasi")},value:this.state.lokasi}))),u.a.createElement("div",{className:"col-lg-4 col-md-4"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:""},"Sales"),u.a.createElement(d.a,{options:this.props.listSales.map((function(e){return{value:e.kode_sales,name:e.nama_sales}})),search:!0,placeholder:"Silahkan Pilih",onChange:function(t){return e.onSubmit(t,"sales")},value:this.state.sales}))),u.a.createElement("div",{className:"col-lg-4 col-md-4"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:""},"Nama Toko"),u.a.createElement(d.a,{options:this.props.listCustomer.map((function(e){return{value:e.kode_customer+"-"+e.nama_customer,name:e.nama_toko+" - "+e.nama_customer}})),search:!0,placeholder:"Silahkan Pilih",onChange:function(t){return e.onSubmitToko(t)},onBlur:function(t){return e.onSubmit(t.split("-")[1],"namaToko")},value:this.state.toko}))),u.a.createElement("div",{className:"col-lg-4"},u.a.createElement(h.a,{name:"level_customer",component:C.b,type:"text",label:"Level Customer",placeholder:"Masukan Level Customer",readOnly:!0})),u.a.createElement("div",{className:this.state.field_level1},u.a.createElement(h.a,{name:"level_customer_1",component:C.c,options:this.props.listCustomer.filter((function(e){return"LEVEL1"===e.level_customer})).map((function(e){return{value:e.kode_customer,name:e.nama_toko+" - "+e.nama_customer}})),type:"text",label:"Level Customer 1",placeholder:"Level Customer 1",onChange:function(e){return localStorage.setItem("customer_1",e)}})),u.a.createElement("div",{className:this.state.field_level2},u.a.createElement(h.a,{name:"level_customer_2",component:C.c,options:this.props.listCustomer.filter((function(e){return"LEVEL2"===e.level_customer})).map((function(e){return{value:e.kode_customer,name:e.nama_toko+" - "+e.nama_customer}})),type:"text",label:"Level Customer 2",placeholder:"Level Customer 2",onChange:function(e){return localStorage.setItem("customer_2",e)}}))))),u.a.createElement("div",{className:"col-lg-8"}),u.a.createElement("div",{className:"col-lg-4"},u.a.createElement("div",{className:"text-right"},u.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e.props.dispatch(Object(N.j)())},disabled:""===this.state.kodeCustomer},"Tambah Barang",u.a.createElement("i",{className:"fa fa-plus ml-3","aria-hidden":"true"})))),u.a.createElement("div",{className:"col-lg-12 mt-5"},u.a.createElement("div",{className:"text-right"},u.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:function(){return e.transaksiPenjualanSubmit()}},this.props.onSend?u.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",u.a.createElement("i",{className:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))):u.a.createElement(L.a,{width:"100%",height:"100%"}),u.a.createElement(T,{content:u.a.createElement(c.Suspense,{fallback:u.a.createElement(L.a,{width:"100%",height:50,count:4})},u.a.createElement(J,{kode_customer:this.state.kodeCustomer,level_customer:this.state.level_customer,onSubmit:function(t){return e.props.dispatch(Object(N.g)())}})),title:"Tambah Data"}))}}]),a}(c.Component);V=Object(g.a)({form:"TransaksiReparasi",enableReinitialize:!0})(V),t.default=Object(p.b)((function(e){return{noFaktur:e.provinsi.noFaktur,listReparasi:e.provinsi.listReparasi,listCustomer:e.customerState.listCustomer||[],listLokasi:e.lokasiState.listLokasi||[],listSales:e.salesmanState.listSalesman||[],username:e.provinsi.username,onSend:e.provinsi.onSend,kodeBarang:e.kodeBarangState.listKodeBarang||[]}}),null)(V)}}]);