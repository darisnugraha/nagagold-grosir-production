(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[185],{1247:function(t,e,a){"use strict";a.r(e);var n=a(52),l=a(53),i=a(54),o=a(55),s=a(0),c=a.n(s),r=a(33),h=a(3),g=a(20),m=a(5),d=a(56),b=a(1),p=a(440),u=a(441),O=a(51),S=a(150),y=a(147),E=a(48),T=function(t){Object(i.a)(a,t);var e=Object(o.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={type_laporan:"SIMPLE"},l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(y.e)()),this.props.dispatch(Object(O.o)()),this.props.dispatch(Object(S.e)())}},{key:"render",value:function(){switch(this.props.from){case"PROSES":return c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(p.a,{label:"Tanggal",name:"tanggal",type:"date",component:E.b})))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):c.a.createElement("i",{className:"fa fa-print mr-2"}),"Print"))))}}}]),a}(s.Component);T=Object(u.a)({form:"FormTimbangStock",enableReinitialize:!0})(T);var f=Object(r.b)((function(t){return{listBank:t.rekeningState.listRekening||[],onSend:t.provinsi.onSend,listCustomer:t.customerState.listCustomer||[],Kelompok:t.kelompokState.listKelompok||[],initialValues:{tanggal:Object(d.b)()}}}))(T),v=a(86),j=(a(185),function(){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],e=new v.default("landscape"),a=[],n=[],l=[],i=45;e.setFontSize(15),e.text("LAPORAN TOTALAN BARANG ",14,33),e.addImage(b.kb,"PNG",14,10,35,12),e.setFontSize(10),t.forEach((function(t,o){e.text("Tanggal Totalan: ".concat(t.tanggal),14,39),e.text("Lokasi : ".concat(t.kode_lokasi),14,44),e.text("Diselesaikan Oleh : ".concat(t.finished_by),100,39),l=[[{content:"TOTAL BRUTO : ".concat(t.total_bruto),colSpan:6},{content:"TOTAL BRUTO SYSTEM : ".concat(t.total_bruto_system),colSpan:5},{content:"TOTAL BRUTO SELISIH : ".concat(t.total_bruto_selisih),colSpan:5}],[{content:"TOTAL NETTO : ".concat(t.total_netto),colSpan:6},{content:"TOTAL NETTO SYSTEM : ".concat(t.total_netto_system),colSpan:5},{content:"TOTAL NETTO SELISIH : ".concat(t.total_netto_selisih),colSpan:5}],[{content:"NO"},{content:"KODE MODEL"},{content:"KADAR CETAK",styles:{halign:"right",cellWidth:16}},{content:"KADAR BELI",styles:{halign:"right",cellWidth:16}},{content:"KADAR JUAL",styles:{halign:"right",cellWidth:16}},{content:"QTY",styles:{halign:"right"}},{content:"P",styles:{halign:"right"}},{content:"K",styles:{halign:"right"}},{content:"PKG",styles:{halign:"right"}},{content:"GROSS (GR)",styles:{halign:"right"}},{content:"BRUTO (GR)",styles:{halign:"right"}},{content:"NETTO (GR)",styles:{halign:"right"}},{content:"BRUTO SYS (GR)",styles:{halign:"right"}},{content:"NETTO SYS (GR)",styles:{halign:"right"}},{content:"BRUTO SELISIH (GR)",styles:{halign:"right"}},{content:"NETTO SELISIH (GR)",styles:{halign:"right"}}]],t.detail_barang.forEach((function(t,e){var n=[++e,t.kode_jenis,{content:t.kadar_cetak,styles:{halign:"right"}},{content:t.kadar_modal,styles:{halign:"right"}},{content:t.kadar_jual,styles:{halign:"right"}},{content:t.qty,styles:{halign:"right"}},{content:Object(b.D)(t.plastik),styles:{halign:"right"}},{content:Object(b.D)(t.kulit),styles:{halign:"right"}},{content:Object(b.D)(t.pkg),styles:{halign:"right"}},{content:Object(b.D)(t.gross),styles:{halign:"right"}},{content:Object(b.D)(t.bruto),styles:{halign:"right"}},{content:Object(b.D)(t.netto,3),styles:{halign:"right"}},{content:Object(b.D)(t.bruto_system),styles:{halign:"right"}},{content:Object(b.D)(t.netto_system,3),styles:{halign:"right"}},{content:Object(b.D)(t.bruto_selisih),styles:{halign:"right"}},{content:Object(b.D)(t.netto_selisih,3),styles:{halign:"right"}}];a.push(n)})),e.autoTable({head:l,body:a,foot:n,startY:0===o?50:i+5,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:20},bodyStyles:{lineColor:"#969696",fontSize:8,lineWidth:.05},headStyles:{lineColor:"#969696",lineWidth:.05,fontSize:8,fillColor:"#E8E8E8"},footStyles:{lineColor:"#969696",lineWidth:.05,fillColor:"#E8E8E8",fontSize:8}}),i=e.lastAutoTable.finalY+10,a=[]})),e.text("User\t: ".concat(Object(b.P)()),14,e.lastAutoTable.finalY+10),e.text("Cetak\t: ".concat(Object(d.b)()),14,e.lastAutoTable.finalY+16);var o=e.internal.getNumberOfPages(),s=e.internal.pageSize.width,c=e.internal.pageSize.height;e.setFontSize(10);for(var r=1;r<o+1;r++){var h=s/2,g=c-10;e.setPage(r),e.text("".concat(r," of ").concat(o),h,g,{align:"center"})}e.autoPrint(),e.setProperties({title:"LAPORAN TIMBANGAN STOCK"});var m=e.output("datauristring"),p=window.open();p.document.open(),p.document.write("<html><head><title>LAPORAN TIMBANG STOCK</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+m+"></embed></body></html>")}),N=function(t){Object(i.a)(a,t);var e=Object(o.a)(a);function a(t){var l;return Object(n.a)(this,a),(l=e.call(this,t)).state={},l}return Object(l.a)(a,[{key:"handleProses",value:function(t){var e=this;this.props.dispatch(Object(h.w)());var a=t.tanggal||Object(d.b)();Object(m.b)("report/totalan-barang/".concat(a)).then((function(t){e.props.dispatch(Object(h.m)()),Object(b.u)(t.data)&&j(localStorage.getItem("username"),Object(d.b)(),localStorage.getItem("username"),t.data)})).catch((function(t){console.log(t),Object(g.c)("Gagal Mengambil data, Mohon periksa koneksi anda").then((function(){return e.props.dispatch(Object(h.m)())}))}))}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("ul",{className:"nav nav-tabs nav-justified nav-bordered mb-3"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#proses-tab","data-toggle":"tab","aria-expanded":"false",className:"nav-link active"},c.a.createElement("i",{className:"mdi mdi-home-variant d-lg-none d-block mr-1"}),c.a.createElement("span",{className:"d-none d-lg-block"},"Laporan Timbang Barang")))),c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane show active",id:"proses-tab"},c.a.createElement(f,{from:"PROSES",onSubmit:function(e){return t.handleProses(e)}})))))))))}}]),a}(s.Component);e.default=Object(r.b)()(N)}}]);