(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[48],{1154:function(e,a,t){"use strict";t.r(a);var n=t(52),r=t(53),o=t(54),i=t(55),l=t(0),c=t.n(l),s=t(33),u=t(308),m=t(440),d=t(441),g=t(460),f=t(146),b=t(10),p=t(322),h=t(803),k=t(56),v=t(303),O=t(1),j=t(48),A=function(e){var a={};return e.tanggal||(a.tanggal="Tidak Boleh kosong"),e.kategori||(a.kategori="Tidak Boleh kosong"),e.lokasi||(a.lokasi="Tidak Boleh kosong"),a},E=t(794),N=t(184),x=t(183),B=t(792),y=function(e){Object(o.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={lokasi:!1,listKategori:[{nama:"AMBIL BARANG"},{nama:"KEMBALI STOK"},{nama:"KOREKSI STOK"},{nama:"MUTASI BAHAN"},{nama:"PENGAMBILAN SALES"},{nama:"PINDAH"},{nama:"PINDAH GUDANG REPARASI"},{nama:"RETURN SALES"},{nama:"SALAH INPUT"},{nama:"SALAH PINDAH"},{nama:"STOK AWAL"},{nama:"TAMBAH BARANG"}],columns:[{dataField:"kode_jenis_asal",text:"Kode Model",footer:""},{dataField:"kadar_beli_asal",text:"Kadar Beli 1",align:"right",headerAlign:"right",formatter:function(e){return Object(O.D)(e)},footer:""},{dataField:"kadar_cetak_asal",text:"Kadar Cetak",align:"right",headerAlign:"right",formatter:function(e){return Object(O.D)(e)},footer:""},{dataField:"pkg_asal",text:"Pkg (Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(O.D)(e)},footerAlign:"right",footer:function(e){return Object(O.D)(e.reduce((function(e,a){return parseFloat(Object(O.xb)(e))+parseFloat(Object(O.xb)(a))}),0))}},{dataField:"qty_asal",text:"Qty",align:"right",headerAlign:"right",formatter:function(e){return e},footerAlign:"right",footer:function(e){return e.reduce((function(e,a){return parseFloat(Object(O.xb)(e))+parseFloat(Object(O.xb)(a))}),0)}},{dataField:"bruto_asal",text:"Bruto (Gr)",align:"right",headerAlign:"right",formatter:function(e){return Object(O.D)(e)},footerAlign:"right",footer:function(e){return Object(O.D)(e.reduce((function(e,a){return parseFloat(Object(O.xb)(e))+parseFloat(Object(O.xb)(a))}),0))}},{dataField:"kadar_beli_tujuan",text:"Kadar Beli 2",align:"right",formatter:function(e){return Object(O.D)(e)},headerAlign:"right",footer:""},{dataField:"qty_tujuan",text:"Qty 2",align:"right",headerAlign:"right",formatter:function(e){return e},footerAlign:"right",footer:function(e){return e.reduce((function(e,a){return parseFloat(Object(O.xb)(e))+parseFloat(Object(O.xb)(a))}),0)}},{dataField:"netto_tujuan",text:"Netto (Gr)",align:"right",formatter:function(e){return Object(O.D)(e,3)},headerAlign:"right",footerAlign:"right",footer:function(e){return Object(O.D)(e.reduce((function(e,a){return parseFloat(Object(O.xb)(e))+parseFloat(Object(O.xb)(a))}),0))}},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a,t){return c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{type:"button","data-tip":!0,"data-for":"hapus",className:"btn btn-danger",onClick:function(){return Object(h.a)("mutasiBarang",t,r.props.dispatch,Object(p.b)())}},c.a.createElement(u.a,{id:"hapus",type:"dark",effect:"solid"},c.a.createElement("span",null,"Hapus")),c.a.createElement("i",{className:"fa fa-trash"})),c.a.createElement("br",null))}}]},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(O.qb)(),this.props.dispatch(Object(f.e)()),this.props.change("tanggal",Object(k.c)()),this.props.change("noMutasi",localStorage.getItem("noFaktur")),this.props.change("bonMutasi",Object(O.L)()+"/MB-"+Object(O.J)())}},{key:"render",value:function(){var e=this;return c.a.createElement(x.a,{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-3 form-group d-none"},c.a.createElement(m.a,{component:j.b,normalize:function(e){return e&&e.toUpperCase()},label:"Nomor Mutasi",type:"text",name:"noMutasi",className:"form-control",readOnly:!0})),c.a.createElement(B.a,null),c.a.createElement("div",{className:"col-md-3 form-group d-none"},c.a.createElement(m.a,{component:j.b,normalize:function(e){return e&&e.toUpperCase()},label:"Bon Mutasi",type:"text",id:"bonMutasi",name:"bonMutasi"})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(m.a,{id:"kategori",label:"Kategori",name:"kategori",component:j.c,options:this.state.listKategori.map((function(e){return{value:e.nama,name:e.nama}}))})),c.a.createElement("div",{className:"col-md-3 form-group"},this.props.lokasi?c.a.createElement(m.a,{label:"Lokasi",component:j.c,name:"lokasi",onChange:function(a){e.setState({kode_lokasi:a.value})},options:this.props.dataLokasiPindah.map((function(e){return{value:e.kode_lokasi,name:e.nama_lokasi}}))}):c.a.createElement(k.a,{label:"Lokasi"})),c.a.createElement(E.a,{kode_lokasi:this.state.kode_lokasi,className:"col-lg-3",removeAllValue:!0}),c.a.createElement("div",{className:"col-md-12 form-group"},c.a.createElement(m.a,{component:j.b,normalize:function(e){return e&&e.toUpperCase()},label:"Keterangan",type:"text",id:"keterangan",name:"keterangan"})),c.a.createElement("div",{className:"col-lg-12 col-md-12 mb-3 row justify-content-end"},c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.props.dispatch(Object(b.j)())},disabled:void 0===this.props.kategori_selected||void 0===this.props.lokasi_selected},"Tambah Barang",c.a.createElement("i",{className:"fa fa-plus ml-3"}))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement(v.a,{keyField:"id",data:this.props.listBarang,columns:this.state.columns})),c.a.createElement("div",{className:"col-lg-12 col-md-3 mb-3"},c.a.createElement(N.a,null))))}}]),t}(l.Component);y=Object(d.a)({form:"HeadMutasiBarang",enableReinitialize:!0,validate:A})(y);var _=Object(g.a)("HeadMutasiBarang");a.default=Object(s.b)((function(e){return{dataLokasiPindah:e.provinsi.dataLokasiPindah,listBarang:e.provinsi.mutasiBarang,lokasi:e.lokasiState.listLokasi||[],lokasi_selected:_(e,"lokasi"),kategori_selected:_(e,"kategori"),initialValues:{tanggal:Object(k.c)(),discGlobalPr:0,p:0,k:0,pkg:0,bruto:0}}}))(y)},460:function(e,a,t){"use strict";var n=t(97),r=t.n(n),o=t(29);a.a=function(e){var a=e.getIn;return function(e,t){r()(e,"Form value must be specified");var n=t||function(e){return a(e,"form")};return function(t){for(var i=arguments.length,l=new Array(i>1?i-1:0),c=1;c<i;c++)l[c-1]=arguments[c];return r()(l.length,"No fields specified"),1===l.length?a(n(t),e+".values."+l[0]):l.reduce((function(r,i){var l=a(n(t),e+".values."+i);return void 0===l?r:o.a.setIn(r,i,l)}),{})}}}(o.a)},792:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return u}));var n=t(0),r=t.n(n),o=t(440),i=t(48),l=t(33),c=t(43);function s(e){var a=Object(l.d)((function(e){return e.date.data})),t=Object(l.c)();return r.a.createElement("div",{className:e.className||"col-lg-3"},r.a.createElement(o.a,{name:e.name||"tanggal",component:i.a,label:e.label||"Tanggal",type:"text",placeholder:e.label?"Masukan ".concat(e.label):"Masukan Tanggal Awal",readOnly:e.readOnly,onChange:function(a){void 0!==e.onChange&&e.onChange(a),t(Object(c.j)(new Date(a)))},selected:new Date(a.split("-").reverse().join("-"))}))}function u(e){var a=Object(l.d)((function(e){return e.date})),t=a.from,n=a.to,s=Object(l.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.className||"col-lg-3"},r.a.createElement(o.a,{name:"tglFrom",component:i.a,label:"Mulai Dari",type:"text",placeholder:"Masukan Tanggal Awal",readOnly:e.readOnly,onChange:void 0!==e.onChange?e.onChange:function(e){return s(Object(c.k)(new Date(e)))},selected:new Date(t.split("-").reverse().join("-"))})),r.a.createElement("div",{className:e.className||"col-lg-3"},r.a.createElement(o.a,{name:"tglTo",component:i.a,label:"Sampai Dengan",type:"text",placeholder:"Masukan Tanggal Akhir",readOnly:e.readOnly,onChange:void 0!==e.onChange?e.onChange:function(e){return s(Object(c.l)(new Date(e)))},selected:new Date(n.split("-").reverse().join("-"))})))}},794:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(33),i=t(440),l=t(130),c=t(1),s=t(48);a.a=function(e){var a=Object(o.d)((function(e){return e.bakiState.listBaki})),t=Object(o.c)(),n=[{value:"ALL",name:"SEMUA"}];return a.filter((function(a){return a.kode_lokasi===e.kode_lokasi})).map((function(e){return n.push({value:e.kode_baki,name:e.nama_baki}),!0})),e.removeAllValue&&(n=n.filter((function(e){return"ALL"!==e.value}))),r.a.createElement("div",{className:Object(c.k)(e.className)},r.a.createElement(i.a,{name:e.kode||"kode_baki",component:s.c,options:n,type:"text",label:"Kode Baki",placeholder:"Pilih Kode Baki",disabled:e.disabled,onChange:function(a){localStorage.setItem(e.namaLocal,JSON.stringify(a)),"ALL"!==a.value&&t(Object(l.i)(a.value))}}))}},803:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t(15),r=t.n(n),o=function(e,a,t,n){r.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(o){if(o.isConfirmed){var i=JSON.parse(localStorage.getItem(e))||[];i.splice(a,1),localStorage.setItem(e,JSON.stringify(i)),r.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return t(n)}))}}))}}}]);