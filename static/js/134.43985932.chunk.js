(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[134],{1272:function(e,a,t){"use strict";t.r(a);var n=t(52),r=t(53),l=t(54),o=t(55),i=t(0),s=t.n(i),c=t(33),m=t(15),d=t.n(m),u=t(280),p=t(20),b=t(5),g=t(302),h=t(182),f=t(440),v=t(441),E=t(460),y=t(307),k=t.n(y),N=t(48),j=t(1),_=t(183),O=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).inputChange=function(e){return function(a){r.setState(Object(h.a)({},e,a.target.value))}},r.state={columns:[{dataField:"tanggal",text:"Tanggal",formatter:function(e){return Object(j.C)(e)}},{dataField:"no_bon",text:"Nomor Bon"},{dataField:"rek_asal",text:"Rekening Asal"},{dataField:"rek_tujuan",text:"Rekening Tujuan"},{dataField:"saldo_rp",text:"Saldo RP",align:"right",headerAlign:"right",formatter:function(e){return Object(j.G)(e)}},{dataField:"keterangan",text:"Keterangan"},{dataField:"link",text:"Aksi",csvExport:!1,formatter:function(e,a){return s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{type:"button",className:"btn btn-success mr-2","data-toggle":"modal","data-target":"#primary-header-modal",onClick:function(){return r.props.dispatch(Object(u.d)(a))}},s.a.createElement("i",{className:"fa fa-check-circle mr-1"}),"VALIDASI"))}}],searchText:""},r}return Object(r.a)(t,[{key:"onChange",value:function(){this.props.change("cashNetto",this.props.cashNetto),this.props.change("transferNetto",this.props.transferNetto)}},{key:"componentDidMount",value:function(){Object(j.qb)(),this.props.dispatch(Object(u.c)("K"))}},{key:"searchList",value:function(){this.props.dispatch(Object(u.c)(this.props.jenis_giro.value))}},{key:"render",value:function(){var e=this;return s.a.createElement(_.a,{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(f.a,{name:"jenis_giro",component:N.c,options:[{value:"K",name:"KREDIT"},{value:"D",name:"DEBIT"}],type:"text",label:"Jenis Transaksi",placeholder:"Masukan Jenis Transaksi"})),s.a.createElement("div",{className:"col-lg-1"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"",className:"text-white"},"."),s.a.createElement("button",{type:"button",id:"button_selesai_1",className:"btn btn-primary form-control",onClick:function(){return e.searchList()}},"Cari"))),s.a.createElement("div",{className:"col-md-12 col-lg-12 mt-3"},s.a.createElement(k.a,{keyField:"noTransaksi",data:this.props.listValidasiGiro||[],columns:this.state.columns,bordered:!0,headerClasses:"header-table"}))))}}]),t}(i.Component);O=Object(v.a)({form:"FormValidasiPembayaranGiro",enableReinitialize:!0})(O);var B=Object(E.a)("FormValidasiPembayaranGiro"),F=Object(c.b)((function(e){var a=B(e,"harga","cash","transfer","jenis_giro"),t=a.harga,n=a.cash,r=a.transfer,l=a.jenis_giro;return{cashNetto:(parseFloat(n)/parseFloat(t)).toFixed(3),transferNetto:(parseFloat(r)/parseFloat(t)).toFixed(3),listValidasiGiro:e.provinsi.listValidasiGiro,rekening:e.rekeningState.listRekening||[],jenis_giro:l,initialValues:{jenis_giro:{value:"D",label:"DEBIT"}}}}))(O),x=t(147),T=t(304),S=function(e){return 0===e||"0"===e?void 0:"Tidak Boleh Lebih Dari Total"},G=Object(T.createNumberMask)({prefix:"Rp. ",locale:"id-ID"}),V=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(x.e)())}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("form",{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"cash",label:"Cash",component:N.b,type:"number",onChange:function(){e.props.change("sisaBon",e.props.totalBayar)},onBlur:function(){return e.props.change("sisaBon",e.props.totalBayar)}})),"transfer"===this.props.from?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"transfer",label:"Transfer",component:N.b,type:"number",onChange:function(){return e.props.change("sisaBon",e.props.totalBayar)},onBlur:function(){return e.props.change("sisaBon",e.props.totalBayar)}})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"tanggal",label:"Tanggal",component:N.b,type:"date"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"rekening_asal",label:"A/C Asal",component:N.b,type:"text",readOnly:!0})),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(f.a,{name:"rekening_tujuan",component:N.b,type:"text",label:"A/C Tujuan",placeholder:"Masukan Rekening Tujuan",readOnly:!0})),s.a.createElement("div",{className:"col-lg-4 col-md-4"})):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"giro",label:"Giro",component:N.b,type:"number"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"noGiro",label:"No Giro",component:N.b,type:"number"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"bank",label:"Bank",component:N.b,type:"number"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"tanggalJ/T",label:"Tanggal Jatuh Tempo",component:N.b,type:"number"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"tanggal",label:"Tanggal",component:N.b,type:"date"})),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:""},"A/C Tujuan"),s.a.createElement(f.a,{name:"a/cTujuan",component:"select",className:"form-control"},s.a.createElement("option",{value:"DEFAULT",key:"DEFAULT"},"Silahkan Pilih")))),s.a.createElement("div",{className:"col-lg-8 col-md-8"},s.a.createElement("div",null))),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,Object.assign({name:"transfer"===this.props.from?"totalBon":"awal",label:"transfer"===this.props.from?"Total Bon":"Awal",component:N.b,type:"telp",readOnly:!0},G))),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,Object.assign({name:"totalBayar",label:"Total Bayar",component:N.b,type:"telp",readOnly:!0},G))),s.a.createElement("div",{className:"col-lg-4 col-md-4"},s.a.createElement(f.a,{name:"transfer"===this.props.from?"sisaBon":"akhir",label:"transfer"===this.props.from?"Sisa Bon":"Akhir",component:N.b,type:"telp",readOnly:!0,validate:S})),s.a.createElement("div",{className:"col-lg-3 d-none"},s.a.createElement(f.a,{name:"no_trx",component:N.b,type:"text",label:"Nomor Trx",placeholder:"Masukan Nomor Trx"})),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Bayar"))))))}}]),t}(i.Component);V=Object(v.a)({form:"ValidasiGiro",enableReinitialize:!0})(V);var C=Object(E.a)("ValidasiGiro"),D=Object(c.b)((function(e){var a=C(e,"cash","transfer","totalBayar"),t=a.cash,n=a.transfer,r=a.totalBayar;return{initialValues:{totalBon:e.provinsi.listValidasiGiroSelected.saldo_rp,tanggal:e.provinsi.listValidasiGiroSelected.tanggal,transfer:e.provinsi.listValidasiGiroSelected.saldo_rp,rekening_asal:e.provinsi.listValidasiGiroSelected.rek_asal,rekening_tujuan:e.provinsi.listValidasiGiroSelected.rek_tujuan,totalBayar:e.provinsi.listValidasiGiroSelected.saldo_rp,no_trx:e.provinsi.listValidasiGiroSelected.no_trx,cash:0,sisaBon:0},rekening:e.rekeningState.listRekening||[],totalBayar:parseFloat(r||0)-(parseFloat(t||0)+parseFloat(n||0))}}))(V),A=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={},r}return Object(r.a)(t,[{key:"handleSubmit",value:function(e){var a=this,t={cash_rp:e.cash,transfer_rp:e.transfer,tanggal_transfer:e.tanggal,rek_asal:e.rekening_asal,rek_tujuan:e.rekening_tujuan,total_transfer:e.totalBon,total_bayar:parseFloat(e.cash||0)+parseFloat(e.transfer||0),sisa_transfer:e.sisaBon};Object(b.f)("validate-bank-outstand-transfer/validate/".concat(String(e.no_trx).toLowerCase()),t).then((function(){return d.a.fire({position:"top-end",icon:"success",text:"Berhasil Validasi Data!",showConfirmButton:!1,timer:1500}).then((function(){document.getElementById("dismiss_modal").click()})).then((function(){a.props.dispatch(Object(u.c)())}))})).catch((function(e){return Object(p.c)("Gagal Validasi Giro , Detial : ".concat(e))}))}},{key:"handleSubmitBatal",value:function(e){var a=this,t={cash_rp:e.cash,transfer_rp:e.transfer,tanggal_transfer:e.tanggal,rek_asal:e.rekening_asal,rek_tujuan:e.rekening_tujuan,total_transfer:e.totalBon,total_bayar:parseFloat(e.cash||0)+parseFloat(e.transfer||0),sisa_transfer:e.sisaBon};Object(b.f)("validate-bank-outstand-transfer/batal/".concat(String(e.no_trx).toLowerCase()),t).then((function(){return d.a.fire({position:"top-end",icon:"success",text:"Berhasil Validasi Data!",showConfirmButton:!1,timer:1500}).then((function(){document.getElementById("dismiss_modal").click()})).then((function(){a.props.dispatch(Object(u.c)())}))})).catch((function(e){return Object(p.c)("Gagal Validasi Giro , Detial : ".concat(e))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"col-lg-12 col-d-12"},s.a.createElement("div",{className:"card"},s.a.createElement(g.a,{title:"Validasi Giro"}),s.a.createElement("div",{className:"card-body"},s.a.createElement(F,{onSubmit:function(a){return e.handleSubmit(a)}})))),s.a.createElement("div",{id:"primary-header-modal",className:"modal fade",tabIndex:"-1",role:"dialog","aria-labelledby":"primary-header-modalLabel","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header modal-colored-header bg-primary"},s.a.createElement("h4",{className:"modal-title",id:"primary-header-modalLabel"},"Validasi Transfer"),s.a.createElement("button",{type:"button",id:"dismiss_modal",name:"dismiss_modal",className:"close","data-dismiss":"modal","aria-hidden":"true"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement(D,{onSubmit:function(a){return e.handleSubmit(a)},from:"transfer"}))))))}}]),t}(i.Component);a.default=Object(c.b)()(A)},460:function(e,a,t){"use strict";var n=t(97),r=t.n(n),l=t(29);a.a=function(e){var a=e.getIn;return function(e,t){r()(e,"Form value must be specified");var n=t||function(e){return a(e,"form")};return function(t){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return r()(i.length,"No fields specified"),1===i.length?a(n(t),e+".values."+i[0]):i.reduce((function(r,o){var i=a(n(t),e+".values."+o);return void 0===i?r:l.a.setIn(r,o,i)}),{})}}}(l.a)}}]);