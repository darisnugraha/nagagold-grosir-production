(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[43],{1148:function(e,t,a){"use strict";a.r(t);var r=a(52),n=a(53),o=a(54),s=a(55),l=a(0),i=a.n(l),c=a(33),u=a(440),p=a(441),d=a(460),m=a(304),b=a(793),f=a(76),F=a(48),g=a(1),v=a(795),h=a(183),k=a(184),x=a(796),N=Object(m.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),O=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=(e||"DEFAULT | DEFAULT | DEFAULT | DEFAULT ").split("|");console.log(t[6]),"AKSESORIS"===t[6]?n.setState({non_aksesoris:"col-lg-12 row d-none",aksesoris:"col-lg-12 row"}):n.setState({non_aksesoris:"col-lg-12 row ",aksesoris:"col-lg-12 row d-none"}),n.setState({kodeJenis:t[0],kadarCetak:t[1],kadarBeli:t[2],kadarJual:t[3],namaJenis:t[4]}),n.props.change("kadar",t[1]),n.props.change("kadarTransaksi",t[2]),n.props.change("kadarJual",t[3]),n.props.change("keterangan",t[4]),Object(g.zb)("Pkg (Gr)")},n.onChange=function(e){n.setState({text:e.target.value})},n.state={listBarang:[],kodeJenis:"",kadarCetak:"",kadarBeli:"",non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none"},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){Object(g.qb)(2),this.props.dispatch(Object(f.k)()),Object(b.c)(this.props.change)}},{key:"componentWillUnmount",value:function(){Object(b.a)()}},{key:"setKadar",value:function(){this.props.change("kadar",this.state.kadarCetak),this.props.change("kadarTransaksi",this.state.kadarBeli),this.props.change("kadarJual",this.state.kadarJual),this.props.change("keterangan",this.state.namaJenis)}},{key:"setNetto",value:function(){this.props.change("netto","NaN"===this.props.netto?0:this.props.netto)}},{key:"componentDidUpdate",value:function(e,t){t.text!==this.state.text&&this.handleCheck()}},{key:"handleCheck",value:function(){var e=this,t=this.state.text;clearTimeout(this.timer),this.timer=setTimeout((function(){var a=Object(v.a)(t);a&&(e.props.change("bruto",(a.GW-a.PKG).toFixed(3)),e.props.change("pkg",a.PKG),e.props.change("netto",e.props.netto))}),150)}},{key:"render",value:function(){var e=this;return i.a.createElement(h.a,{number:2,onSubmit:this.props.handleSubmit},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-3 form-group"},""!==String(this.props.KodeBarangList)?i.a.createElement(u.a,{name:"kodeBarang",label:"Kode Model",component:Object(g.cb)()?F.d:F.c,onChange:function(t){return e.handleChange(Object(g.cb)()?t:t.value)},options:this.props.KodeBarangList.map((function(e){return{value:e.kode_jenis+"|"+e.kadar_cetak+"|"+e.kadar_beli+"|"+e.kadar_jual+"|"+e.nama_jenis+"|"+e.kode_kategori+"|"+e.kode_kelompok,name:e.nama_jenis}}))}):i.a.createElement(g.m,{label:"Kode Model"})),i.a.createElement("div",{className:"col-lg-4"},i.a.createElement(u.a,{name:"kode_barcode",label:"Kode Barcode",type:"tel",component:F.b,onChange:this.onChange})),i.a.createElement("div",{className:"col-md-4 form-group"},i.a.createElement(u.a,{name:"keterangan",label:"Keterangan",component:F.b,type:"text",normalize:function(e){return e&&e.toUpperCase()}})),i.a.createElement("div",{className:"col-md-5"},i.a.createElement("div",{className:this.state.aksesoris},i.a.createElement(u.a,{name:"qty",label:"Qty",component:F.b,type:"text"}))),i.a.createElement("div",{className:this.state.non_aksesoris},i.a.createElement("div",{className:Object(g.cb)()?"col-md-2 form-group d-none":"col-md-2 form-group"},i.a.createElement(u.a,{name:"kadar",label:"Kadar Cetak",component:F.b,type:"text"})),i.a.createElement("div",{className:"col-md-2 form-group"},i.a.createElement(u.a,{name:"pkg",label:"Pkg (Gr)",component:F.b,type:"text",onBlur:this.setNetto(),normalize:g.g})),i.a.createElement(x.a,null),i.a.createElement("div",{className:"col-md-2 form-group"},i.a.createElement(u.a,{name:"bruto",id:"bruto",label:"Bruto (Gr)",component:F.b,normalize:g.g,type:"text",onBlur:this.setNetto()})),i.a.createElement("div",{className:"col-md-2 form-group"},i.a.createElement(u.a,{name:"kadarTransaksi",label:"Kadar Beli (%)",component:F.b,type:"text",readOnly:Object(g.z)()})),i.a.createElement("div",{className:"col-md-2 form-group"},i.a.createElement(u.a,{name:"netto",label:"Netto (Gr)",component:F.b,type:"text"})),i.a.createElement("div",{className:"col-md-4 form-group"},i.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),i.a.createElement(u.a,Object.assign({name:"ongkos",label:"Ongkos (Rp)",component:"input",type:"telp",className:"form-control",defaultValue:0},N)))),i.a.createElement("div",{className:"col-md-12 form-group"},i.a.createElement(k.a,{number:2}))))}}]),a}(l.Component);O=Object(p.a)({form:"FormTambahBarang",enableReinitialize:!0})(O);var E=Object(d.a)("FormTambahBarang");t.default=Object(c.b)((function(e){var t=E(e,"bruto","kadarTransaksi"),a=t.bruto,r=t.kadarTransaksi;return{KodeBarangList:e.kodeBarangState.listKodeBarang||[],netto:Object(g.D)(parseFloat(a)*(parseFloat(r)/100))||0,initialValues:{discGlobalPr:0,p:0,k:0,pkg:0,bruto:0}}}))(O)},460:function(e,t,a){"use strict";var r=a(97),n=a.n(r),o=a(29);t.a=function(e){var t=e.getIn;return function(e,a){n()(e,"Form value must be specified");var r=a||function(e){return t(e,"form")};return function(a){for(var s=arguments.length,l=new Array(s>1?s-1:0),i=1;i<s;i++)l[i-1]=arguments[i];return n()(l.length,"No fields specified"),1===l.length?t(r(a),e+".values."+l[0]):l.reduce((function(n,s){var l=t(r(a),e+".values."+s);return void 0===l?n:o.a.setIn(n,s,l)}),{})}}}(o.a)},793:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return c}));var r=a(187),n=a(802),o=localStorage.getItem("namaTimbangan"),s=localStorage.getItem("enableTimbangan"),l=function(e){s&&r.a.database().ref(o).on("value",(function(t){var a=t.val();e("bruto",a.nilai)}))},i=function(e){var t=Object(n.a)("http://103.119.55.52:8010/api/v1/".replace(/\/api\/v1\//,""));t.on("connect",(function(){console.log("SOCKET CONNECTED : ",t.connected)}));var a=localStorage.getItem("username");t.on("timbangan-emit",(function(t){var r;(null===(r=t.user_id)||void 0===r?void 0:r.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase())&&(localStorage.setItem("timbangan-active","true"),e(document.activeElement.name,t.value))}))},c=function(){var e=Object(n.a)("http://103.119.55.52:8010/api/v1/".replace(/\/api\/v1\//,""));localStorage.setItem("timbangan-active","false"),e.disconnect()}},795:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=function(e){if(!(e.indexOf(" ")>0||e.indexOf("-")>0||e.indexOf("//")>0||e.indexOf("/")>0))return!1;var t=0,a=0;return e.indexOf("-")>0?(t=parseFloat(e.split("-")[0]).toFixed(3),{NW:a=parseFloat(e.split("-")[1]).toFixed(3),GW:t,PKG:(parseFloat(t)-parseFloat(a)).toFixed(3)}):e.indexOf("//")>0&&void function(e){var t=0,a=0,r=0;if(e.indexOf("//")>0){n(e.split("//"))}else{if(!(e.indexOf("/")>0)){var o=e.split(" ");return t=parseFloat(o[0]).toFixed(3),a=parseFloat(o[1]).toFixed(3),r=(parseFloat(t)-parseFloat(a)).toFixed(3),{GW:t,NW:a,PKG:r}}n(e.split("/"))}}(e)};function n(e){var t,a;return t=parseFloat(e[0].trim()).toFixed(3),{NW:a=parseFloat(e[1].trim()).toFixed(3),GW:t,PKG:(parseFloat(t)-parseFloat(a)).toFixed(3)}}var o=function(e){var t=function(e){if("4"===e.charAt(0)||"5"===e.charAt(0)&&"0000"===e.slice(-4)){var t=e.charAt(0),a=e.substr(1,t)/1e3,r=e.substr(Number(t)+1,1),n=e.substr(Number(t)+2,r)/1e3,o=parseFloat(a)-parseFloat(n);return{NW:parseFloat(n).toFixed(3),PKG:parseFloat(o).toFixed(3),GW:parseFloat(a).toFixed(3)}}if(22===e.length&&"0"===e.substr(0,1)){var s=parseFloat(e.substr(13,5))/100,l=parseFloat(e.substr(18,4))/100,i=s+l;return{NW:parseFloat(s).toFixed(3),PKG:parseFloat(l).toFixed(3),GW:parseFloat(i).toFixed(3)}}if(20===e.length){var c=e.substr(8,6)/100,u=e.substr(14,6)/100,p=u-c;return{NW:parseFloat(c).toFixed(3),PKG:parseFloat(p).toFixed(3),GW:parseFloat(u).toFixed(3)}}if(14===e.length){var d=e.substr(1,4)/1e3,m=e.substr(6,4)/1e3,b=d-m;return{NW:parseFloat(m).toFixed(3),PKG:parseFloat(b).toFixed(3),GW:parseFloat(d).toFixed(3)}}}(e),a=function(e){var t=e.indexOf("X");if(12===e.length-1-t&&"0"!==e.substr(1,1)){console.log(e.substr(t+7,5));var a=parseFloat(e.substr(t+1,7))/100,r=parseFloat(e.substr(t+8,5))/100;return{NW:a-r,PKG:r,GW:a}}return!1}(e),n=function(e){if("#"===e.substr(5,1)){var t,a,r;return r=(a=parseFloat(e.split("#")[0]).toFixed(3)/100)-(t=parseFloat(e.split("#")[1]).toFixed(3)/100),console.log(e),{NW:t,GW:a,PKG:r}}return!1}(e),o=function(e){if("LLP"===e.substr(0,3)){console.log("INI DI LLP");var t=e.split("-"),a=t[1].substr(0,t[1].length-1),r=t[2].substr(0,t[2].length-1);return{NW:r,PKG:parseFloat(a)-parseFloat(r),GW:a}}return!1}(e),s=function(e){if(15===e.length||14===e.length||16===e.length){var t=e.charAt(0),a=e.charAt(Number(t)+1),r=e.substr(1,t)/1e3,n=e.substr(Number(t)+2,a)/1e3,o=r-n;return{NW:parseFloat(n).toFixed(3),PKG:parseFloat(o).toFixed(3),GW:parseFloat(r).toFixed(3)}}return!1}(e),l=function(e){if(-1!==e.indexOf("//")){var t=e.split("//")[0],a=e.split("//")[1],r=Number(t)-Number(a);return console.log(parseFloat(a).toFixed(3),parseFloat(r).toFixed(3),parseFloat(t).toFixed(3)),{NW:parseFloat(a).toFixed(3),PKG:parseFloat(r).toFixed(3),GW:parseFloat(t).toFixed(3)}}if(-1!==e.indexOf("-")){if(-1!==e.indexOf("ayu")||-1!==e.indexOf("AYU")){var n=e.split("-")[1],o=e.split("-")[2],s=Number(n)-Number(o);return{NW:parseFloat(o).toFixed(3),PKG:parseFloat(s).toFixed(3),GW:parseFloat(n).toFixed(3)}}var l=e.split("-")[0],i=e.split("-")[1],c=Number(l)-Number(i);return{NW:parseFloat(i).toFixed(3),PKG:parseFloat(c).toFixed(3),GW:parseFloat(l).toFixed(3)}}return!1}(e),i=r(e);return t||(n||(o||(l||(i||(s||(a||void 0))))))}},796:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(440),s=a(1),l=a(48);t.a=function(e){var t,a,r;return n.a.createElement("div",{className:Object(s.Db)()?"col-md-".concat(null!==(t=e.width)&&void 0!==t?t:3," form-group"):"col-md-".concat(null!==(a=e.width)&&void 0!==a?a:3," form-group d-none")},n.a.createElement(o.a,{name:null!==(r=e.name)&&void 0!==r?r:"qty",label:"Quantity",type:"number",normalize:s.e,component:l.b}))}}}]);