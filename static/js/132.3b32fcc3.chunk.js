(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[132],{1283:function(e,a,t){"use strict";t.r(a);var n=t(182),r=t(52),l=t(53),i=t(54),o=t(55),s=t(0),c=t.n(s),m=t(33),d=t(39),u=t(15),p=t.n(u),b=t(440),g=t(441),h=t(460),k=t(20),f=t(308),v=t(96),E=t.n(v),N=t(10),O=t(302),j=t(48),C=t(303),S=t(1),y=t(51),F=t(56),_=t(307),x=t.n(_),B=t(186),A=t.n(B),P=t(306),w=t.n(P),D=t(148),T=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={kodeBarang:[],kodeJenis:"",namaJenis:"",kadarCetak:"",kadarBeli:"",columns:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"bruto",text:"Bruto",align:"right",headerAlign:"right"},{dataField:"kadar_transaksi",text:"Harga (%)",align:"right",headerAlign:"right"},{dataField:"netto",text:"Netto(Gr)",align:"right",headerAlign:"right"}],tampungCiok:[]},n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(D.e)())}},{key:"pilihBarang",value:function(e){var a=(e||"DEFAULT | DEFAULT | DEFAULT | DEFAULT ").split("|");this.props.change("kadar",a[1]),this.props.change("kadarTransaksi",a[2])}},{key:"setNetto",value:function(){this.props.change("netto",Object(S.D)(this.props.netto))}},{key:"render",value:function(){var e=this,a=this.props.rosok.filter((function(e){return"CIOK"===e.kode_kelompok||"RONGSOK"===e.kode_kelompok}));return c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("form",{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4 mb-3"},c.a.createElement(b.a,{name:"kodeBarang",className:"form-control",component:j.c,label:"Kode Model",onChange:function(a){return e.pilihBarang(a)},options:a.map((function(e){return{value:e.kode_jenis+"|"+e.kadar_cetak+"|"+e.kadar_beli,name:e.nama_jenis}}))})),c.a.createElement("div",{className:"col-lg-8"}),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(b.a,{name:"kadar",label:"Kadar Cetak",type:"number",component:j.b,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(b.a,{name:"bruto",label:"Berat (Gr)",type:"number",component:j.b,onChange:this.setNetto(),normalize:S.c})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(b.a,{name:"kadarTransaksi",label:"Kadar Jual",type:"number",component:j.b})),c.a.createElement("div",{className:"col-md-3 form-group"},c.a.createElement(b.a,{name:"netto",label:"Murni (Gr)",type:"text",component:j.b,readOnly:!0})),c.a.createElement("div",{className:"col-lg-12 mb-3"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.onSend},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Simpan",c.a.createElement("i",{className:"fa fa-paper-plane ml-3"})))),this.props.data?c.a.createElement(A.a,{keyField:"id",data:this.props.data,columns:this.state.columns,search:!0},(function(e){return c.a.createElement("div",{className:"form-group"},c.a.createElement(x.a,Object.assign({},e.baseProps,{striped:!0,hover:!0,condensed:!0,bordered:!0,headerClasses:"header-table",pagination:w()()})))})):null)))}}]),t}(s.Component);T=Object(g.a)({form:"FormPengambilanCiok",enableReinitialize:!0})(T);var M=Object(h.a)("FormPengambilanCiok"),J=Object(m.b)((function(e){var a=M(e,"bruto","kadarTransaksi"),t=a.bruto,n=a.kadarTransaksi;return{netto:Object(S.D)(parseFloat(t)*parseFloat(n)/100)||0,rosok:e.rosokCiokimState.listRosokCiokim}}))(T),I=t(427),K=t(145),R=Object(s.lazy)((function(){return Promise.resolve().then(t.bind(null,305))})),G=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(e){var l;Object(r.a)(this,t);var i=new Date,o="".concat(i.getFullYear(),"-").concat(i.getMonth()+1,"-").concat(i.getDate());return(l=a.call(this,e)).inputChange=function(e){return function(a){l.setState(Object(n.a)({},e,a.target.value))}},l.state={supplierList:[],DataSupplier:[],startDate:o,kodeSupplier:"",namaSupplier:"",tanggal:o,status:"",tampungBarang:[],noBon:Object(S.L)()+"/AMB-"+Object(S.J)(),columns:[{dataField:"kode_jenis",text:"Kode Model"},{dataField:"kadar_transaksi",text:"Kadar Jual",align:"right",headerAlign:"right"},{dataField:"bruto",text:"Berat\n(Gr)",align:"right",headerAlign:"right"},{dataField:"netto",text:"Murni\n(Gr)",align:"right",headerAlign:"right"},{dataField:"Aksi",text:"Aksi",csvExport:!1,formatter:function(e,a,t){return c.a.createElement("div",{className:"text-center"},c.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return l.deleteRow(t)}},c.a.createElement(f.a,{id:"hapus",type:"dark",effect:"solid"},c.a.createElement("span",null,"Hapus")),c.a.createElement("i",{className:"fa fa-trash mr-1"})),c.a.createElement("br",null))}}]},l}return Object(l.a)(t,[{key:"deleteRow",value:function(e){var a=this;p.a.fire({title:"Anda Yakin ?",text:"Anda Akan Menghapus Data Ini ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){if(t.isConfirmed){var n=JSON.parse(localStorage.getItem("PengambilanCiok"))||[];n.splice(e,1),localStorage.setItem("PengambilanCiok",JSON.stringify(n)),p.a.fire({text:"Berhasil",timer:2e3,showConfirmButton:!1,position:"top-right",icon:"success"}).then((function(){return a.props.dispatch(Object(I.c)())})).then((function(){return a.setState({updated:!0})}))}}))}},{key:"componentDidMount",value:function(){localStorage.removeItem("PengambilanCiok"),this.props.dispatch(Object(y.o)()),this.props.dispatch(Object(K.f)()),this.props.dispatch(Object(d.b)()),this.props.dispatch(Object(I.c)())}},{key:"handleSubmit",value:function(e){this.props.dispatch(Object(I.b)(e))}},{key:"pengambilanCiokSend",value:function(){return""===this.props.tanggal_selected?(Object(k.e)("Mohon isi Tanggal"),!1):null===localStorage.getItem("PengambilanCiok")?(Object(k.e)("Barang masih kosong, silahkan tambahkan barang"),!1):void this.props.dispatch(Object(I.d)())}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container-fluid",style:{color:"black"}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"card"},c.a.createElement(O.a,{title:"Pengambilan CT & Rongsok Customer"}),c.a.createElement("div",{className:"card-body"},c.a.createElement(R,{content:c.a.createElement(s.Suspense,{fallback:c.a.createElement(E.a,{width:"100%",height:400})},c.a.createElement(J,{from:"tolakan",kodeSupplier:this.props.supplier_selected,onSubmit:function(a){return e.handleSubmit(a)},noFaktur:this.props.noFaktur})),title:"Tambah Data Barang"}),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("form",{id:"myForm"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(b.a,{name:"supplier",component:j.c,options:this.props.customer.map((function(e){return{value:e.kode_customer+"-"+e.nama_customer,name:e.nama_customer}})),type:"text",label:"Customer",placeholder:"Pilih Customer"})),c.a.createElement("div",{className:"col-lg-4"},c.a.createElement(b.a,{name:"tanggal",component:j.b,type:"date",label:"Tanggal",placeholder:"Pilih Tanggal"}))))),c.a.createElement("div",{className:"col-md-12 col-lg-12 mt-3"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"}),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{disabled:void 0===this.props.supplier_selected,className:"btn btn-primary",onClick:function(){return e.props.dispatch(Object(N.j)())}},"Tambah Data",c.a.createElement("i",{className:"fa fa-plus ml-3","aria-hidden":"true"})))))),c.a.createElement("div",{className:"col-lg-12 mt-3"},c.a.createElement(C.a,{keyField:"id",data:this.props.listPengambilanCiok,columns:this.state.columns}),c.a.createElement("div",{className:"text-right"},c.a.createElement("button",{className:"btn btn-primary",disabled:this.props.onSend,onClick:function(){return e.pengambilanCiokSend()}},this.props.onSend?c.a.createElement("span",{className:"spinner-border spinner-border-sm mr-3","aria-hidden":"true"}):null,"Selesai",c.a.createElement("i",{className:"fa fa-paper-plane ml-3","aria-hidden":"true"})))))))))))}}]),t}(s.Component);G=Object(g.a)({form:"PengambilanCiok",enableReinitialize:!0})(G);var L=Object(h.a)("PengambilanCiok");a.default=Object(m.b)((function(e){var a=L(e,"tanggal","supplier","no_bon","sales"),t=a.tanggal,n=a.supplier,r=a.no_bon,l=a.sales;return{noFaktur:e.provinsi.noFaktur,username:e.provinsi.username,listPengambilanCiok:e.provinsi.listPengambilanCiok,alert:e.provinsi.alert,error:e.provinsi.error,onSend:e.provinsi.onSend,supplier:e.supplierState.listSupplier||[],customer:e.customerState.listCustomer||[],sales:e.salesmanState.listSalesman||[],tanggal_selected:t,supplier_selected:n,sales_selected:l,no_bon_selected:r,initialValues:{tanggal:Object(F.b)()}}}))(G)},460:function(e,a,t){"use strict";var n=t(97),r=t.n(n),l=t(29);a.a=function(e){var a=e.getIn;return function(e,t){r()(e,"Form value must be specified");var n=t||function(e){return a(e,"form")};return function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r()(o.length,"No fields specified"),1===o.length?a(n(t),e+".values."+o[0]):o.reduce((function(r,i){var o=a(n(t),e+".values."+i);return void 0===o?r:l.a.setIn(r,i,o)}),{})}}}(l.a)}}]);