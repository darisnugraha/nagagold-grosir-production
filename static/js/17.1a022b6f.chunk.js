(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[17],{1211:function(a,e,t){"use strict";t.r(e);var s=t(52),r=t(53),n=t(54),o=t(55),l=t(0),c=t.n(l),i=t(33),m=t(440),p=t(441),d=t(460),b=t(304),h=t(48),k=t(1),u=t(183),g=t(184),I=Object(b.createNumberMask)({prefix:"Rp. ",suffix:",-",locale:"id-ID"}),T=function(a){Object(n.a)(t,a);var e=Object(o.a)(t);function t(a){var r;return Object(s.a)(this,t),(r=e.call(this,a)).kodeBarangRef=c.a.createRef(),r.state={kodeBarang:[],non_aksesoris:"col-lg-12 row",aksesoris:"col-lg-12 row d-none",stockBruto:0,stockNetto:0,disabledDasar:!0},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var a=this;Object(k.qb)(),setTimeout((function(){a.kodeBarangRef.current.focus()}),400),console.log(this.props.type_transaksi.value)}},{key:"onclick1",value:function(){this.props.change("netto",this.props.netto),this.props.change("noFaktur",this.props.noFaktur),this.props.change("gross",this.props.gross),this.props.change("discGlobalGr",this.props.discGlobalGr),this.props.change("totalRupiah",Object(k.b)(this.props.netto)*this.props.hargaPerGram),this.props.change("nettoDiscGlobalExt",Object(k.D)(Object(k.xb)(this.props.netto)-Object(k.xb)(this.props.discGlobalGr)))}},{key:"pilihBarang",value:function(a){var e=Object(k.tb)(a);console.log(e);var t=this.props.KodeBarangList.filter((function(a){return a.kode_jenis===e}));switch(this.setState({kodeJenis:t[0].kode_jenis,namaJenis:t[0].nama_jenis,kadarCetak:t[0].kadar_cetak,kadarJual:t[0].kadar_jual,kadarBeli:t[0].kadar_beli,kodeKategori:t[0].kode_kategori,namaKategori:t[0].nama_kategori,diskon:0,harga_jual:0,stockBruto:0,stockNetto:0}),t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",0)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",100)),this.props.change("keterangan",t[0].nama_jenis),this.props.change("kadar",t[0].kadar_cetak),this.props.change("kodeKategori",t[0].kode_kategori),this.props.change("namaKategori",t[0].nama_kategori),this.props.change("harga_jual",0),Object(k.zb)("Kadar"),this.props.type_transaksi.value){case"JUAL|PENJUALAN":this.props.change("kadarTransaksi",t[0].kadar_jual),Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",t[0].kadar_jual)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",t[0].kadar_jual)));break;case"BELI|PEMBELIAN":Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",t[0].kadar_beli)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",t[0].kadar_beli))),this.props.change("kadarTransaksi",t[0].kadar_beli);break;case"TITIP-RP|TITIPAN RUPIAH":Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",100)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",100))),this.props.change("kadarTransaksi",100),this.props.change("kadar",0),this.props.change("bruto",0);break;case"AMBIL TITIP-RP|AMBIL TITIPAN RUPIAH":Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",100)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",100))),Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",100)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",100))),this.props.change("kadarTransaksi",100),this.props.change("kadar",0),this.props.change("bruto",0);break;default:Object(k.T)()&&(t[0].is_ct?(this.setState({disabledDasar:!1}),this.props.change("kadarCustomer",t[0].kadar_jual)):(this.setState({disabledDasar:!0}),this.props.change("kadarCustomer",t[0].kadar_jual))),this.props.change("kadarTransaksi",t[0].kadar_jual)}}},{key:"setBruto",value:function(){this.props.change("bruto",localStorage.getItem("Timbangan"))}},{key:"render",value:function(){var a=this;return console.log("TITIP|TITIPAN GRAM"===this.props.type_transaksi.value||"AMBIL TITIP|AMBIL TITIPAN GRAM"===this.props.type_transaksi.value),c.a.createElement(u.a,{onSubmit:this.props.handleSubmit},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-lg-12 d-none"},c.a.createElement(m.a,{name:"noFaktur",label:this.props.noFaktur,type:"text",readOnly:!0,component:h.b,defaultValue:this.props.noFaktur,normalize:function(a){return a&&a.toUpperCase()}})),c.a.createElement("div",{className:"col-md-4 col-lg-4"},c.a.createElement(m.a,{name:"kodeBarang",label:"Kode Model",component:h.c,defaultRef:this.kodeBarangRef,className:"form-control",onChange:function(e){return a.pilihBarang(e.value)},options:this.props.KodeBarangList.map((function(a){return{value:a.kode_jenis,name:a.nama_jenis}}))})),c.a.createElement("div",{className:(this.state.aksesoris,"col-md-3 col-lg-3 d-none")},c.a.createElement(m.a,{name:"kadar",label:"Kadar Jual",type:"number",component:h.b,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"kadar_cetak",label:"Kadar Jual",type:"number",component:h.b})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"kodeKategori",label:"Kadar Jual",type:"number",component:h.b})),c.a.createElement("div",{className:"col-md-8 col-lg-8"},c.a.createElement(m.a,{name:"keterangan",label:"Keterangan",type:"text",component:h.b,normalize:function(a){return null===a||void 0===a?void 0:a.toUpperCase()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"namaKategori",label:"Kadar Jual",type:"number",component:h.b})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"pkg",label:"Pkg (Gr)",type:"text",component:h.b,onBlur:function(){return a.onclick1()},normalize:k.c})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"kadarCustomer",label:"Kadar",normalize:k.c,component:h.b,readOnly:"TITIP-RP|TITIPAN RUPIAH"===this.props.type_transaksi.value||"AMBIL TITIP-RP|AMBIL TITIPAN RUPIAH"===this.props.type_transaksi.value})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"bruto",label:"Berat (Gr)",type:"text",component:h.b,onChange:this.onclick1(),normalize:k.c,readOnly:"TITIP-RP|TITIPAN RUPIAH"===this.props.type_transaksi.value||"AMBIL TITIP-RP|AMBIL TITIPAN RUPIAH"===this.props.type_transaksi.value})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"kadarTransaksi",label:"Dasar",type:"number",component:h.b,readOnly:this.state.disabledDasar,onBlur:function(){return a.onclick1()}})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,Object.assign({name:"hargaPerGram",label:"Harga / Gram",type:"number",component:h.b,onChange:this.onclick1()},I))),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,{name:"netto",label:"Netto (Gr)",type:"text",component:h.b,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement(m.a,Object.assign({name:"hargaPerGram",label:"Harga / Gr",type:"tel",component:h.b},I,{readOnly:"TITIP|TITIPAN GRAM"===this.props.type_transaksi.value||"AMBIL TITIP|AMBIL TITIPAN GRAM"===this.props.type_transaksi.value}))),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement(m.a,{name:"gross",label:"Gross (Gr)",type:"text",component:h.b,readOnly:!0})),c.a.createElement("div",{className:(Object(k.cb)(),"col-md-3 col-lg-3 d-none")},c.a.createElement(m.a,{name:"discGlobalPr",label:"Diskon (%)",type:"number",component:h.b,onBlur:function(){return a.onclick1()}})),c.a.createElement("div",{className:(Object(k.cb)(),"col-md-3 col-lg-3 d-none")},c.a.createElement(m.a,{name:"discGlobalGr",label:"Diskon (Gr)",type:"text",component:h.b,readOnly:!0})),c.a.createElement("div",{className:(Object(k.cb)(),"col-md-3 col-lg-3 d-none")},c.a.createElement(m.a,{name:"nettoDiscGlobalExt",label:"Netto - Diskon (Gr)",type:"text",component:h.b,readOnly:!0})),c.a.createElement("div",{className:"col-md-3 col-lg-3 d-none"},c.a.createElement("label",{htmlFor:""},"Ongkos (Rp)"),c.a.createElement(m.a,Object.assign({name:"rp",component:"input",type:"tel",className:"form-control"},I))),c.a.createElement("div",{className:"col-md-3 col-lg-3"},c.a.createElement("label",{htmlFor:""},"Total (Rp)"),c.a.createElement(m.a,Object.assign({name:"totalRupiah",component:"input",type:"tel",className:"form-control"},I,{readOnly:!0}))),c.a.createElement("div",{className:"TITIP|TITIPAN GRAM"===this.props.type_transaksi.value||"AMBIL TITIP|AMBIL TITIPAN GRAM"===this.props.type_transaksi.value?"col-md-4 col-lg-4":"col-md-4 col-lg-4 d-none"},c.a.createElement(m.a,{name:"jenis_titipan",label:"Jenis Titipan",component:h.c,className:"form-control",options:[{value:"JUAL",name:"JUAL"},{value:"BELI",name:"BELI"}]})),c.a.createElement("div",{className:"col-lg-12 col-md-12"},c.a.createElement(g.a,null))))}}]),t}(l.Component);T=Object(p.a)({form:"FormTransaksiLM",enableReinitialize:!0})(T);var v=Object(d.a)("FormTransaksiLM");e.default=Object(i.b)((function(a){var e=v(a,"bruto","kadarTransaksi","pkg","discGlobalPr","kadarCustomer","hargaPerGram"),t=e.bruto,s=e.kadarTransaksi,r=e.pkg,n=e.discGlobalPr,o=e.kadarCustomer,l=e.hargaPerGram;return{netto:Object(k.D)(parseFloat(Object(k.xb)(t)||0)*(parseFloat(Object(k.xb)(o)||0)/100)*(parseFloat(Object(k.xb)(s)||0)/100)||0),gross:Object(k.D)(parseFloat(Object(k.xb)(t)||0)+parseFloat(Object(k.xb)(r)||0)||0),discGlobalGr:Object(k.D)(parseFloat(Object(k.xb)(t)||0)*(parseFloat(Object(k.xb)(n)||0)/100)||0),hargaPerGram:l||0,KodeBarangList:a.rosokCiokimState.listRosokCiokim,onSend:a.provinsi.onSend,initialValues:{discGlobalPr:0,p:0,k:0,pkg:0,bruto:0,kadarCustomer:0},bruto:t}}))(T)}}]);