/*! For license information please see 88.3bb5919b.chunk.js.LICENSE.txt */
(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[88],{1238:function(e,t,a){"use strict";a.r(t);var r=a(52),n=a(53),i=a(54),o=a(55),c=a(0),s=a.n(c),l=a(6),u=a(33),d=a(440),m=a(441),h=a(850),f=a(48),p=a(23),v=a(1),g=a(840),b=a.n(g),y=a(149),E=a(183),k=a(184);function w(){w=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),c=new x(n||[]);return r(o,"_invoke",{value:k(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&a.call(g,i)&&(p=g);var b=f.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(n,o){!function r(n,i,o,c){var s=u(e[n],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,c)}))}c(s.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}})}function k(e,t,a){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return S()}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var c=N(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var s=u(e,t,a);if("normal"===s.type){if(r=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r="completed",a.method="throw",a.arg=s.arg)}}}function N(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,r,n,i){void 0===i&&(i=Promise);var o=new E(l(t,a,r,n),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;j(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:C(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var N=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).submit=function(){},n.handleUpload=function(){var e=Object(l.a)(w().mark((function e(t){var a,r,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FileReader,r=t.target.files[0],a.onload=n.handleReaderLoaded,e.next=5,Object(v.yb)(r);case 5:i=e.sent,a.readAsDataURL(r),void 0!==a&&void 0!==r&&(a.onloadend=function(){n.setState({dataUri:i,prevCamera:"col-lg-12 d-none",hasilCamera:"col-lg-12"}),n.props.dispatch(Object(y.b)(i))});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleReaderLoaded=function(e){var t=e.target.result;n.setState({imageBase64:btoa(t)})},n.cameraPhoto=null,n.videoRef=s.a.createRef(),n.state={response:"",listPerhiasan:[],listJual:[],listBeli:[],listKategori:[],dataUri:v.h,prevCamera:"col-lg-12",hasilCamera:"col-lg-12 d-none"},n}return Object(n.a)(a,[{key:"componentWillUnmount",value:function(){this.cameraPhoto.stopCamera().then((function(){})).catch((function(e){}))}},{key:"componentDidMount",value:function(){var e=this;this.cameraPhoto=new b.a(this.videoRef.current),setTimeout((function(){e.cameraPhoto.startCamera(g.FACING_MODES.ENVIRONMENT,{width:720,height:720})}),200),Object(v.qb)(),setTimeout((function(){Object(v.zb)("Kode Model")}),300)}},{key:"takePhoto",value:function(){var e=Object(l.a)(w().mark((function e(){var t,a,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sizeFactor:1,imageCompression:.1,isImageMirror:!1},a=Object(v.y)(this.cameraPhoto.getDataUri(t)),e.next=4,Object(v.yb)(a);case 4:r=e.sent,this.setState({dataUri:r,prevCamera:"col-lg-12 d-none",hasilCamera:"col-lg-12"}),this.props.dispatch(Object(y.b)(r));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPhoto",value:function(){this.setState({prevCamera:"col-lg-12 ",hasilCamera:"col-lg-12 d-none"})}},{key:"render",value:function(){var e=this;return s.a.createElement(E.a,{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3"},this.props.listKategoriPerhiasan.length>0?s.a.createElement("div",{className:"form-group"},s.a.createElement(d.a,{component:f.c,label:"Nama Jenis",name:"kodeKategori",value:this.props.status,className:"form-control",options:this.props.listKategoriPerhiasan.map((function(e){return{value:e.kode_kategori,name:e.nama_kategori}}))})):s.a.createElement(p.a,{label:"Nama Jenis"})),s.a.createElement("div",{className:"col-md-3"},s.a.createElement(d.a,{name:"kodeJenis",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:f.b,label:"Kode Model",limit:"9"})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(d.a,{name:"namaJenis",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:f.b,label:"Nama Model"})),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},""!==String(this.props.listKadarCetak)?s.a.createElement(d.a,{component:f.c,label:"Kadar Cetak",name:"kadarCetak",value:"DEFAULT",className:"form-control",options:this.props.listKadarCetak.map((function(e){return{value:e.kadar,name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Cetak"}))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},""!==String(this.props.listKadarBeli)?s.a.createElement(d.a,{component:f.c,label:"Kadar Beli",name:"kadarBeli",value:"DEFAULT",className:"form-control",options:this.props.listKadarBeli.map((function(e){return{value:e.kadar,name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Beli"}))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},""!==String(this.props.listKadarJual)?s.a.createElement(d.a,{component:f.c,label:"Kadar Jual",name:"kadarJual",value:"DEFAULT",className:"form-control",options:this.props.listKadarJual.map((function(e){return{value:e.kadar,name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Jual"}))),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(d.a,{name:"kode_intern",component:f.b,type:"text",label:"Kode Intern",placeholder:"Masukan Kode Intern",normalize:function(e){return e.toUpperCase()}})),s.a.createElement("div",{className:"col-lg-12 mb-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"}),s.a.createElement("div",{className:"col-lg-4 "},s.a.createElement("div",{className:this.state.prevCamera},s.a.createElement("video",{ref:this.videoRef,autoPlay:!0,width:"100%",height:"100%"})),s.a.createElement("div",{className:this.state.hasilCamera},s.a.createElement("img",{src:this.state.dataUri,alt:"",width:"100%",height:"100%"})),s.a.createElement("div",{className:"text-center mt-2"},s.a.createElement("button",{className:"btn btn-success",type:"button",onClick:function(){return e.takePhoto()}},"Ambil Gambar"),s.a.createElement("button",{className:"btn btn-outline-danger ml-2",type:"button",onClick:function(){return e.resetPhoto()}},"Reset Gambar"))),s.a.createElement("div",{className:"col-lg-4 my-auto"},s.a.createElement("h5",null,"Pilih Gambar Dari File : "),s.a.createElement("div",{className:"input-group mt-2"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:function(){return e.props.dispatch(Object(y.b)(""))}},"Hapus")),s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{className:"custom-file-input",type:"file",name:"avatar",id:"file",accept:".jpef, .png, .jpg",onChange:function(t){return e.handleUpload(t)},src:this.state.image}),s.a.createElement("label",{className:"custom-file-label",for:"inputGroupFile03"},"Choose file")))))),s.a.createElement("div",{className:"col-lg-12 col-md-12 mt-3"},s.a.createElement(k.a,null))))}}]),a}(c.Component);N=Object(m.a)({form:"KodeBarang",enableReinitialize:!0,validate:h.a})(N);var O=Object(u.b)((function(e){return{listKadarCetak:e.kadarState.listKadarCetak,listKadarBeli:e.kadarState.listKadarBeli,listKadarJual:e.kadarState.listKadarJual,listKategoriPerhiasan:e.kategoriState.listKategoriPerhiasan,cameraURI:e.provinsi.cameraURI,onSend:e.provinsi.onSend}}))(N),j=a(12),x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)};function C(e){var t=e.className,a=e.counterClockwise,r=e.dashRatio,n=e.pathRadius,i=e.strokeWidth,o=e.style;return Object(c.createElement)("path",{className:t,style:Object.assign({},o,P({pathRadius:n,dashRatio:r,counterClockwise:a})),d:S({pathRadius:n,counterClockwise:a}),strokeWidth:i,fillOpacity:0})}function S(e){var t=e.pathRadius,a=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+a+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+a+" 1 1 0,-"+2*t+"\n    "}function P(e){var t=e.counterClockwise,a=e.dashRatio,r=e.pathRadius,n=2*Math.PI*r,i=(1-a)*n;return{strokeDasharray:n+"px "+n+"px",strokeDashoffset:(t?-i:i)+"px"}}var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function a(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,a=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,a),r)-a)/(r-a)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,a=e.className,r=e.classes,n=e.counterClockwise,i=e.styles,o=e.strokeWidth,s=e.text,l=this.getPathRadius(),u=this.getPathRatio();return Object(c.createElement)("svg",{className:r.root+" "+a,style:i.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(c.createElement)("circle",{className:r.background,style:i.background,cx:50,cy:50,r:50}):null,Object(c.createElement)(C,{className:r.trail,counterClockwise:n,dashRatio:t,pathRadius:l,strokeWidth:o,style:i.trail}),Object(c.createElement)(C,{className:r.path,counterClockwise:n,dashRatio:u*t,pathRadius:l,strokeWidth:o,style:i.path}),s?Object(c.createElement)("text",{className:r.text,style:i.text,x:50,y:50},s):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(c.Component);var L=a(210);function M(){M=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,a){return e[t]=a}}function l(e,t,a,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),c=new j(n||[]);return r(o,"_invoke",{value:k(e,a,c)}),o}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function m(){}function h(){}function f(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==t&&a.call(g,i)&&(p=g);var b=f.prototype=m.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;r(this,"_invoke",{value:function(r,i){function o(){return new t((function(n,o){!function r(n,i,o,c){var s=u(e[n],e,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,c)}))}c(s.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}})}function k(e,t,a){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return C()}for(a.method=n,a.arg=i;;){var o=a.delegate;if(o){var c=w(o,a);if(c){if(c===d)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===r)throw r="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r="executing";var s=u(e,t,a);if("normal"===s.type){if(r=a.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r="completed",a.method="throw",a.arg=s.arg)}}}function w(e,t){var a=t.method,r=e.iterator[a];if(void 0===r)return t.delegate=null,"throw"===a&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==a&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+a+"' method")),d;var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=f,r(b,"constructor",{value:f,configurable:!0}),r(f,"constructor",{value:h,configurable:!0}),h.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,r,n,i){void 0===i&&(i=Promise);var o=new E(l(t,a,r,n),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(b),s(b,c,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(a,r){return o.type="throw",o.arg=e,t.next=a,r&&(t.method="next",t.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;O(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},e}var K=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleUpload=function(){var e=Object(l.a)(M().mark((function e(t){var a,r,i;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new FileReader,r=t.target.files[0],a.onload=n.handleReaderLoaded,a.readAsDataURL(r),e.next=6,Object(v.yb)(r);case 6:i=e.sent,n.setState({dataUri:a.result,prevCamera:"col-lg-12 d-none",hasilCamera:"col-lg-12",imageEdit:"col-lg-12 d-none"}),n.props.dispatch(Object(y.b)(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleReaderLoaded=function(e){var t=e.target.result;n.setState({imageBase64:btoa(t)})},n.cameraPhoto=null,n.videoRef=s.a.createRef(),n.state={response:"",listPerhiasan:[],listJual:[],listBeli:[],listKategori:[],dataUri:v.h,prevCamera:"col-lg-12 d-none",hasilCamera:"col-lg-12 d-none",imageEdit:"col-lg-12"},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.cameraPhoto=new b.a(this.videoRef.current),setTimeout((function(){e.cameraPhoto.startCamera(g.FACING_MODES.ENVIRONMENT,{width:720,height:720})}),200),Object(v.qb)(),setTimeout((function(){Object(v.zb)("Nama Model")}),300)}},{key:"takePhoto",value:function(){var e=Object(l.a)(M().mark((function e(){var t,a,r;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sizeFactor:1,imageCompression:.1,isImageMirror:!1},a=Object(v.y)(this.cameraPhoto.getDataUri(t)),e.next=4,Object(v.yb)(a);case 4:r=e.sent,this.setState({dataUri:r,prevCamera:"col-lg-12 d-none",hasilCamera:"col-lg-12",imageEdit:"col-lg-12 d-none"}),this.props.dispatch(Object(y.b)(r));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPhoto",value:function(){this.setState({prevCamera:"col-lg-12 ",hasilCamera:"col-lg-12 d-none",imageEdit:"col-lg-12 d-none"});var e=this.props.payloadData;e.image="-",this.props.dispatch(Object(L.d)(e))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.props.onSend?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row col-lg-12 justify-content-center"},s.a.createElement("div",{style:{width:200,height:200}},s.a.createElement(_,{maxValue:100,value:this.props.percentage,text:"".concat(this.props.percentage,"%")}))),s.a.createElement("div",{className:"row col-lg-12 justify-content-center mt-2"},s.a.createElement("h3",null,"Sedang Mengunggah Data.."))):s.a.createElement(E.a,{onSubmit:this.props.handleSubmit},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-3"},this.props.listKategoriPerhiasan.length>0?s.a.createElement("div",{className:"form-group"},s.a.createElement(d.a,{component:f.c,label:"Kode Jenis",name:"kodeKategori",value:this.props.status,className:"form-control",options:this.props.listKategoriPerhiasan.map((function(e){return{value:e.kode_kategori,name:e.nama_kategori}})),readOnly:!0})):s.a.createElement(p.a,{label:"Kode Jenis"})),s.a.createElement("div",{className:"col-md-3"},s.a.createElement(d.a,{name:"kodeJenis",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:f.b,label:"Kode Model"})),s.a.createElement("div",{className:"col-md-6"},s.a.createElement(d.a,{name:"namaJenis",type:"text",normalize:function(e){return e&&e.toUpperCase()},component:f.b,label:"Nama Model"})),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},this.props.listKadarCetak.length>0?s.a.createElement(d.a,{component:f.c,label:"Kadar Cetak",name:"kadarCetak",value:"DEFAULT",className:"form-control",options:this.props.listKadarCetak.map((function(e){return{value:e.kadar.toString(),name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Cetak"}))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},this.props.listKadarBeli.length>0?s.a.createElement(d.a,{component:f.c,label:"Kadar Beli",name:"kadarBeli",value:"DEFAULT",className:"form-control",options:this.props.listKadarBeli.map((function(e){return{value:e.kadar,name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Beli"}))),s.a.createElement("div",{className:"col-md-3"},s.a.createElement("div",{className:"form-group"},this.props.listKadarJual.length>0?s.a.createElement(d.a,{component:f.c,label:"Kadar Jual",name:"kadarJual",value:"DEFAULT",className:"form-control",options:this.props.listKadarJual.map((function(e){return{value:e.kadar,name:e.kadar}}))}):s.a.createElement(p.a,{title:"Kadar Jual"}))),s.a.createElement("div",{className:"col-lg-3"},s.a.createElement(d.a,{name:"kode_intern",component:f.b,type:"text",label:"Kode Intern",placeholder:"Masukan Kode Intern"})),s.a.createElement("div",{className:"col-lg-12 mb-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"}),s.a.createElement("div",{className:"col-lg-4 "},s.a.createElement("div",{className:this.state.prevCamera},s.a.createElement("video",{ref:this.videoRef,autoPlay:"true",width:"100%",height:"100%"})),s.a.createElement("div",{className:this.state.imageEdit},s.a.createElement("img",{src:this.props.image,alt:"Gambar Rusak",width:"100%",height:"100%"})),s.a.createElement("div",{className:this.state.hasilCamera},s.a.createElement("img",{src:this.state.dataUri,alt:"Gambar Rusak",width:"100%",height:"100%"})),s.a.createElement("div",{className:"text-center mt-2"},s.a.createElement("button",{className:"btn btn-success",type:"button",onClick:function(){return e.takePhoto()}},"Ambil Gambar"),s.a.createElement("button",{className:"btn btn-outline-danger ml-2",type:"button",onClick:function(){return e.resetPhoto()}},"Reset Gambar"))),s.a.createElement("div",{className:"col-lg-4 my-auto"},s.a.createElement("h5",null,"Pilih Gambar Dari File : "),s.a.createElement("div",{className:"input-group mt-2"},s.a.createElement("div",{className:"custom-file"},s.a.createElement("input",{className:"custom-file-input",type:"file",name:"avatar",id:"file",accept:".jpef, .png, .jpg",onChange:function(t){return e.handleUpload(t)},src:this.state.image}),s.a.createElement("label",{className:"custom-file-label",for:"inputGroupFile03"},"Choose file")))))),s.a.createElement("div",{className:"col-lg-12 col-md-12 mt-3"},s.a.createElement(k.a,null)))))}}]),a}(c.Component);K=Object(m.a)({form:"KodeBarangEdit",enableReinitialize:!0,validate:h.a})(K);var R=Object(u.b)((function(e){return{listKadarCetak:e.kadarState.listKadarCetak,listKadarBeli:e.kadarState.listKadarBeli,listKadarJual:e.kadarState.listKadarJual,listKategoriPerhiasan:e.kategoriState.listKategoriPerhiasan,image:e.provinsi.EditModel.image,payloadData:e.provinsi.EditModel,onSend:e.provinsi.onSend,initialValues:{kodeKategori:Object(v.Ab)({value:"nama_kategori",keyTarget:"kode_kategori",target:e.provinsi.EditModel.kodeKategori,source:e.kategoriState.listKategoriPerhiasan,debug:!0}),kodeJenis:e.provinsi.EditModel.kodeJenis,namaJenis:e.provinsi.EditModel.namaJenis,kadarBeli:{value:String(e.provinsi.EditModel.kadarBeli),label:String(e.provinsi.EditModel.kadarBeli)},kadarJual:{value:String(e.provinsi.EditModel.kadarJual),label:String(e.provinsi.EditModel.kadarJual)},kadarCetak:{value:e.provinsi.EditModel.kadarCetak,label:e.provinsi.EditModel.kadarCetak},kode_intern:e.provinsi.EditModel.kodeIntern}}}),null)(K),T=a(76),U=a(10),D=a(305),F=a(302),G=a(308),I=a(103),A=a(116),J=a(303),B=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={KodeBarang:[],progress:0,response:"",display:"none",columns:[{dataField:"kode_jenis",text:"Kode Model",headerStyle:function(){return{width:"10%"}}},{dataField:"nama_jenis",text:"Nama Model",headerStyle:function(){return{width:"20%"}}},{dataField:"kode_kategori",text:"Kode Jenis",headerStyle:function(){return{width:"10%"}}},{dataField:"kadar_cetak",text:"Kadar Cetak",align:"right",headerAlign:"right",formatter:function(e){return Object(v.E)(e)},headerStyle:function(){return{width:"8%"}}},{dataField:"kadar_beli",text:"Kadar Beli",align:"right",formatter:function(e){return Object(v.E)(e)},headerAlign:"right",headerStyle:function(){return{width:"8%"}}},{dataField:"kadar_jual",text:"Kadar Jual",formatter:function(e){return Object(v.E)(e)},headerStyle:function(){return{width:"8%"}}},{dataField:"kode_barcode",text:"Kode Barcode",headerStyle:function(){return{width:"10%"}}},{dataField:"image",text:"Image",formatter:function(e,t,a,r){return s.a.createElement("div",{className:" row justify-content-center"},s.a.createElement("img",{src:t.image,alt:"Gambar Model",width:"100px",height:"100px"}))}},{dataField:"link",text:"Aksi",csvExport:!1,formatter:function(e,t){return s.a.createElement("div",{className:"row justify-content-center my-auto"},s.a.createElement("button",{"data-tip":!0,"data-for":"hapus",className:"btn btn-danger mr-2",onClick:function(){return n.props.dispatch(Object(T.g)(t.kode_jenis))},"data-tut":"reactour_3"},s.a.createElement("i",{className:"fa fa-trash"}),s.a.createElement(G.a,{id:"hapus",type:"dark",effect:"solid"},s.a.createElement("span",null,"Hapus"))),s.a.createElement("button",{"data-tip":!0,"data-for":"edit","data-tut":"reactour_4",className:"btn btn-warning",onClick:function(){return n.props.dispatch(Object(L.e)(t.kode_jenis,t.kode_kategori,t.kode_kelompok,t.nama_jenis,t.kadar_beli,t.kadar_jual,t.kadar_cetak,t.image,t.kode_intern,t.kode_barcode,n.editModal()))}},s.a.createElement("i",{className:"fa fa-edit"}),s.a.createElement(G.a,{id:"edit",type:"dark",effect:"solid"},s.a.createElement("span",null,"Edit"))))}}]},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(T.n)()),this.props.dispatch(Object(T.j)()),this.props.dispatch(Object(I.h)()),this.props.dispatch(Object(I.i)()),this.props.dispatch(Object(I.g)()),this.props.dispatch(Object(A.h)())}},{key:"handleSubit",value:function(){this.props.dispatch(Object(T.o)())}},{key:"handleEdit",value:function(){this.props.dispatch(Object(T.h)())}},{key:"tambahModal",value:function(){this.props.dispatch(Object(U.j)()),this.setState({isEdit:!1,jenis:"NON-AKSESORIS"})}},{key:"editModal",value:function(){this.props.dispatch(Object(U.j)()),this.setState({isEdit:!0,jenis:"NON-AKSESORIS"})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container-fluid",style:{color:"black"}},s.a.createElement("div",{id:"notif_alert",className:this.props.alert,role:"alert"},s.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")),s.a.createElement("strong",null,"Error - ")," Tidak Bisa Mengambil Data"),s.a.createElement("ol",{className:"breadcrumb mb-2"},s.a.createElement(j.b,{to:"/KlasifikasiBarang"},s.a.createElement("button",{type:"button",className:"btn btn-secondary ","data-tut":"reactour_5"},s.a.createElement("i",{className:"fa fa-angle-left mr-3","aria-hidden":"true"})," Back"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"card"},s.a.createElement(F.a,{title:"Data Model"}),s.a.createElement("div",{className:"card-body"},s.a.createElement(D.default,{content:this.state.isEdit?s.a.createElement(R,{onSubmit:function(t){return e.handleEdit(t,"NON-AKSESORIS")},onSend:this.props.onSend,percentage:this.state.progress}):s.a.createElement(O,{onSubmit:function(t){return e.handleSubit(t,"NON-AKSESORIS")},onSend:this.props.onSend}),title:this.state.isEdit?"Edit Data Kode Model":"Tambah data Kode Model"}),s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"col-lg-12 col-md-12"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{name:"simpan",id:"simpan",type:"button",className:"btn btn-info",onClick:function(){return e.tambahModal()},"data-tut":"reactour_1"},"Tambah Data",s.a.createElement("i",{className:"fa fa-plus ml-3"}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement(J.a,{keyField:"kode_jenis",data:this.props.KodeBarangList.filter((function(e){return"PERHIASAN"===e.kode_kelompok})),columns:this.state.columns,search:!0})))))))))}}]),a}(c.Component);t.default=Object(u.b)((function(e){return{KodeBarangList:e.kodeBarangState.listKodeBarang||[],alert:e.provinsi.alert,error:e.provinsi.error,cameraURI:e.provinsi.cameraURI,ListAksesoris:e.provinsi.ListAksesoris}}),null)(B)},840:function(e,t,a){e.exports=function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var r=a(1),n=a(7);a.d(t,"a",(function(){return n.a})),a.d(t,"d",(function(){return r.b}));var i=r.a.FACING_MODES,o=r.a.IMAGE_TYPES},function(e,t,a){"use strict";var r=a(6);a.d(t,"a",(function(){return r.a}));var n=a(2);a.d(t,"b",(function(){return n.a}))},function(e,t,a){"use strict";function r(e,t){var a={};try{(function(e,t){if(!(t>=0&&t<=1))throw new Error(t+" is invalid imageCompression, choose between: [0, 1]");if(!c.f.includes(e))throw new Error(e+" is invalid imageType, choose between: "+c.f.join(", "))})(e,t),a.imageType=e,a.imageCompression=t}catch(e){console.error(e),console.error("default value of "+c.c.PNG+" is used"),a.imageType=c.c.PNG,a.imageCompression=null}return a}function n(){var e=window.navigator.platform,t=window.navigator.userAgent;return e||t}function i(){return"ontouchend"in document}function o(){var e=n();if(/iPad|iPhone|iPod/.test(e))return!0;var t=i();return!(!/Mac/.test(e)||!t)}t.c=function(e,t,a){var r=e*parseFloat(a);return{imageWidth:r,imageHeight:t/(e/r)}},t.b=function(e,t,a){return r(t,a).imageType===c.c.JPG?a?e.toDataURL(c.b[c.c.JPG],a):e.toDataURL(c.b[c.c.JPG]):e.toDataURL(c.b[t])},t.e=function(e,t){return e||t},t.d=o,t.a=function(){return{userAgent:window.navigator.userAgent,platform:window.navigator.platform,_getStringWithPlatform:n(),_getHasTouchEvents:i(),getIsIOS:o()}};var c=a(3)},function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"e",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u}));var n,i=["user","environment"],o={USER:"user",ENVIRONMENT:"environment"},c=["jpg","png"],s={PNG:"png",JPG:"jpg"},l=(r(n={},"jpg","image/jpeg"),r(n,"png","image/png"),n),u={audio:!1,video:!0}},function(e,t,a){e.exports=a(5)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(0);a.d(t,"FACING_MODES",(function(){return r.b})),a.d(t,"IMAGE_TYPES",(function(){return r.c})),a.d(t,"_getDebugPlatformInfo",(function(){return r.d}));var n=a(9);a.d(t,"downloadPhoto",(function(){return n.a})),t.default=r.a},function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(2),n=a(3),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getDataUri",value:function(e,t){var a=t.sizeFactor,n=t.imageType,i=t.imageCompression,o=t.isImageMirror,c=e.videoWidth,s=e.videoHeight,l=Object(r.c)(c,s,a),u=l.imageWidth,d=l.imageHeight,m=document.createElement("canvas");m.width=u,m.height=d;var h=m.getContext("2d");return o&&h.setTransform(-1,0,0,1,m.width,0),h.drawImage(e,0,0,u,d),Object(r.b)(m,n,i)}},{key:"getWindowURL",value:function(){return window.URL||window.webkitURL||window.mozURL||window.msURL}},{key:"getNavigatorMediaDevices",value:function(){var e=null,t=!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia),a=!(!navigator.mozGetUserMedia&&!navigator.webkitGetUserMedia);if(t)e=navigator.mediaDevices;else if(a){var r=navigator.mozGetUserMedia||navigator.webkitGetUserMedia,n={getUserMedia:function(e){return new Promise((function(t,a){r.call(navigator,e,t,a)}))}};e=Object.assign(r,n)}return e}},{key:"isSupportedFacingMode",value:function(){return e.getNavigatorMediaDevices().getSupportedConstraints().facingMode}},{key:"getIdealConstraints",value:function(t,a){if(!Object(r.e)(t,a))return n.d;var i=e.getNavigatorMediaDevices().getSupportedConstraints();if(!i.width||!i.height)return console.error("Constraint width or height not supported! fallback to default resolution"),n.d;var o=void 0,c=void 0;return t&&(n.e.includes(t)?o=t:c={exact:t}),{audio:!1,video:{facingMode:o,deviceId:c,width:a&&a.width,height:a&&a.height}}}},{key:"getMaxResolutionConstraints",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1];console.warn("getMaxResolutionConstraints() numberOfMaxResolutionTry:",a);var n=[{width:{min:640}},{width:{min:800}},{width:{min:900}},{width:{min:1024}},{width:{min:1080}},{width:{min:1280}},{width:{min:1920}},{width:{min:2560}},{width:{min:3840}}],i=e.getIdealConstraints(t,{});if(0===a)return Object(r.d)()?(console.warn("fallback to iOS constraints"),e.getIdealConstraints(t,{width:{min:640,ideal:3840},height:{min:480,ideal:2160}})):(i.video.advanced=n,i);if(a<n.length){var o=n.slice(0,-a);return i.video.advanced=o,i}return null}},{key:"FACING_MODES",get:function(){return n.a}},{key:"IMAGE_TYPES",get:function(){return n.c}}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var r=a(1),n=a(8),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=r.a.IMAGE_TYPES.PNG,c=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.videoElement=t,this.stream=null,this.numberOfMaxResolutionTry=0,this.settings=null,this.cameras=[],this.windowURL=r.a.getWindowURL(),this.mediaDevices=r.a.getNavigatorMediaDevices()}return i(e,[{key:"_getStreamDevice",value:function(e,t){var a=this;return new Promise((function(n,i){var o=r.a.getIdealConstraints(e,t);a.mediaDevices.getUserMedia(o).then((function(e){a._gotStream(e),n(e)})).catch((function(e){i(e)}))}))}},{key:"_getStreamDeviceMaxResolution",value:function(e){var t=this,a=r.a.getMaxResolutionConstraints(e,this.numberOfMaxResolutionTry);return null==a?this._getStreamDevice(e,{}):new Promise((function(r,n){t.mediaDevices.getUserMedia(a).then((function(e){t._gotStream(e),r(e)})).catch((function(a){setTimeout((function(){t.numberOfMaxResolutionTry+=1,t._getStreamDeviceMaxResolution(e).catch((function(){n(a)}))}),20)}))}))}},{key:"_setVideoSrc",value:function(e){if("srcObject"in this.videoElement)this.videoElement.srcObject=e;else{var t=this.windowURL.createObjectURL(e);this.videoElement.src=t}}},{key:"_setSettings",value:function(e){this.settings=null;var t=e&&e.getTracks?e.getTracks():[];t.length>0&&t[0].getSettings&&(this.settings=t[0].getSettings())}},{key:"_enumerateCamerasPromise",value:function(){var e=this;return new Promise((function(t,a){var r=[];e.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){"videoinput"===e.kind&&e.deviceId&&r.push(e)})),t(r)})).catch((function(e){a(e)}))}))}},{key:"_gotStream",value:function(e){this.stream=e,this._setSettings(e),this._setVideoSrc(e)}},{key:"getCameraSettings",value:function(){return this.settings}},{key:"enumerateCameras",value:function(){var e=this;return this.stream?this._enumerateCamerasPromise():this.stopCamera().then((function(){})).catch((function(){})).then((function(){return e.mediaDevices.getUserMedia({video:!0}).then((function(e){setTimeout((function(){e.getTracks().forEach((function(e){e.stop()}))}),20)})).then((function(){})).catch((function(){})).then((function(){return e._enumerateCamerasPromise()}))}))}},{key:"startCamera",value:function(e,t){var a=this;return this.stopCamera().then((function(){})).catch((function(){})).then((function(){return a._getStreamDevice(e,t)}))}},{key:"startCameraMaxResolution",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.numberOfMaxResolutionTry=0,this.stopCamera().then((function(){})).catch((function(){})).then((function(){return e._getStreamDeviceMaxResolution(t)}))}},{key:"getDataUri",value:function(e){var t={sizeFactor:void 0===e.sizeFactor?n.c:e.sizeFactor,imageType:void 0===e.imageType?o:e.imageType,imageCompression:void 0===e.imageCompression?n.a:e.imageCompression,isImageMirror:void 0===e.isImageMirror?n.b:e.isImageMirror};return r.a.getDataUri(this.videoElement,t)}},{key:"stopCamera",value:function(){var e=this;return new Promise((function(t,a){e.stream&&(e.stream.getTracks().forEach((function(e){e.stop()})),e.videoElement.src="",e.stream=null,e._setSettings(null),t()),a(Error("no stream to stop!"))}))}}]),e}()},function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var r=1,n=null,i=!1},function(e,t,a){"use strict";var r=a(10);a.d(t,"a",(function(){return r.a}))},function(e,t,a){"use strict";function r(e){for(var t=atob(e.split(",")[1]),a=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([r],{type:a})}function n(e,t,a){return e+"-"+function(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}(t,4)+"."+function(e){var t=o.c.PNG;return"image/jpeg"===e&&(t=o.c.JPG),t}(a)}function i(e,t,a){window.URL=window.webkitURL||window.URL;var r=document.createElement("a");r.download=n(t,a,e.type),r.href=window.URL.createObjectURL(e);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photo",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(r(e),t,a)};var o=a(0)}])},850:function(e,t,a){"use strict";t.a=function(e){var t={};return e.kodeKategori?"DEFAULT"===e.kodeKategori&&(t.kodeKategori="Pilih Terlebih dahulu"):t.kodeKategori="Tidak Boleh kosong",e.kodeJenis?"DEFAULT"===e.kodeJenis&&(t.kodeJenis="Pilih Terlebih dahulu"):t.kodeJenis="Tidak Boleh kosong",e.kadarBeli?"DEFAULT"===e.kadarBeli&&(t.kadarBeli="Pilih Terlebih dahulu"):t.kadarBeli="Tidak Boleh kosong",e.kadarJual?"DEFAULT"===e.kadarJual&&(t.kadarJual="Pilih Terlebih dahulu"):t.kadarJual="Tidak Boleh kosong",e.kadarCetak?"DEFAULT"===e.kadarCetak&&(t.kadarCetak="Pilih Terlebih dahulu"):t.kadarCetak="Tidak Boleh kosong",t}}}]);