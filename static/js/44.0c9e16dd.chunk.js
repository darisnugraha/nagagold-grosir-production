(this.webpackJsonpmonica=this.webpackJsonpmonica||[]).push([[44],{1155:function(a,e,t){"use strict";t.r(e);var n=t(52),r=t(53),o=t(54),l=t(55),s=t(0),i=t.n(s),u=t(440),c=t(441),d=t(460),p=t(33),m=t(793),b=t(48),g=t(1),F=t(183),v=t(184),f=t(795),h=t(796),_=function(a){Object(o.a)(t,a);var e=Object(l.a)(t);function t(a){var r;return Object(n.a)(this,t),(r=e.call(this,a)).handleChangeAsal=function(a){var e=r.props.kodeBarang.find((function(e){return e.kode_jenis===a}));r.props.change("kadar_cetak_asal",e.kadar_cetak),r.props.change("kadar_beli_asal",e.kadar_beli),Object(g.zb)("Pkg (Gr)")},r.handleChangeTujuan=function(a){var e=r.props.kodeBarang.find((function(e){return e.kode_jenis===a}));r.props.change("kadar_cetak_tujuan",e.kadar_cetak),r.props.change("kadar_beli_tujuan",e.kadar_beli)},r.handleCheck=function(a){var e=a.target.value;clearTimeout(r.timer),r.timer=setTimeout((function(){var a=Object(f.a)(e);a&&(r.props.change("bruto_asal",(a.GW-a.PKG).toFixed(3)),r.props.change("pkg_asal",a.PKG),r.props.change("netto_asal",r.props.netto))}),150)},r.state={listBarang:[],kode_asal:"",nama_asal:"",kadar_asal:"",pkg_asal:"",kotor_asal:"",harga_asal:"",murni_asal:"",kategori_asal:"",kode_tujuan:"",nama_tujuan:"",kadar_tujuan:"",pkg_tujuan:"",kotor_tujuan:"",harga_tujuan:"",murni_tujuan:"",kategori_tujuan:""},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(g.qb)(2),Object(m.b)(this.props.change)}},{key:"changeNettoAsal",value:function(){this.props.change("bruto_tujuan",this.props.bruto_asal),this.props.change("netto_asal",this.props.netto_asal)}},{key:"changeNettoTujuan",value:function(){this.props.change("netto_tujuan",this.props.netto_tujuan)}},{key:"render",value:function(){var a=this;return i.a.createElement(F.a,{number:2,onSubmit:this.props.handleSubmit,onKeyPress:g.ob},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4 col-lg-4"},i.a.createElement(u.a,{tabIndex:1,name:"kode_barcode",label:"Kode Barcode",type:"text",component:b.b,placeholder:"Biarkan Kosong jika Tidak Digunakan",onChange:this.handleCheck}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-3"},i.a.createElement(u.a,{label:"Kode Asal",name:"kode_jenis_asal",component:b.c,onChange:function(e){return a.handleChangeAsal(e.value)},options:this.props.kodeBarang.map((function(a){return{value:a.kode_jenis,name:a.nama_jenis}}))})),i.a.createElement("div",{className:"col-lg-1"},i.a.createElement(u.a,{label:"Kadar",name:"kadar_cetak_asal",component:b.b})),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Pkg (Gr)",name:"pkg_asal",component:b.b})),i.a.createElement(h.a,{name:"qty_asal",width:2}),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Bruto",name:"bruto_asal",component:b.b,onChange:this.changeNettoAsal(),normalize:g.c})),i.a.createElement("div",{className:"col-lg-1"},i.a.createElement(u.a,{label:"Harga",name:"kadar_beli_asal",component:b.b,onChange:this.changeNettoAsal()})),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Netto (Gr)",name:"netto_asal",component:b.b,readOnly:!0})),i.a.createElement("div",{className:"col-lg-12"},i.a.createElement("hr",null)),i.a.createElement("div",{className:"col-lg-3"},i.a.createElement(u.a,{label:"Kode Tujuan",name:"kode_jenis_tujuan",component:b.c,onChange:function(e){return a.handleChangeTujuan(e.value)},options:this.props.kodeBarang.map((function(a){return{value:a.kode_jenis,name:a.nama_jenis}}))})),i.a.createElement("div",{className:"col-lg-1"},i.a.createElement(u.a,{label:"Kadar",name:"kadar_cetak_tujuan",component:b.b})),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Pkg (Gr)",name:"pkg_tujuan",component:b.b})),i.a.createElement(h.a,{name:"qty_tujuan",width:2}),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Bruto",name:"bruto_tujuan",component:b.b,onChange:this.changeNettoTujuan(),normalize:g.c})),i.a.createElement("div",{className:"col-lg-1"},i.a.createElement(u.a,{label:"Harga",name:"kadar_beli_tujuan",component:b.b,onChange:this.changeNettoTujuan()})),i.a.createElement("div",{className:"col-lg-2"},i.a.createElement(u.a,{label:"Netto (Gr)",name:"netto_tujuan",component:b.b,readOnly:!0})),i.a.createElement("div",{className:"col-lg-12 col-md-12"},i.a.createElement(v.a,{number:2}))))}}]),t}(s.Component);_=Object(c.a)({form:"FormMutasiBarang",enableReinitialize:!0,validate:function(a){var e={};return a.kadarTransaksiTujuan||(e.kadarTransaksiTujuan="Tidak Boleh kosong"),a.kodeBarangTujuan||(e.kodeBarangTujuan="Tidak Boleh kosong"),a.pkg||(e.pkg="Tidak Boleh kosong"),a.bruto||(e.bruto="Tidak Boleh kosong"),e}})(_);var k=Object(d.a)("FormMutasiBarang");e.default=Object(p.b)((function(a){var e=k(a,"bruto_asal","bruto_tujuan","kadar_beli_asal","kadar_beli_tujuan"),t=e.bruto_asal,n=e.bruto_tujuan,r=e.kadar_beli_asal,o=e.kadar_beli_tujuan;return{bruto_asal:t,netto_asal:Object(g.D)(parseFloat(t||"0")*(parseFloat(r||"0")/100))||0,netto_tujuan:Object(g.D)(parseFloat(n||"0")*(parseFloat(o||"0")/100))||0,kodeBarang:a.kodeBarangState.listKodeBarangAll||[],initialValues:{pkg_asal:0,pkg_tujuan:0}}}))(_)},460:function(a,e,t){"use strict";var n=t(97),r=t.n(n),o=t(29);e.a=function(a){var e=a.getIn;return function(a,t){r()(a,"Form value must be specified");var n=t||function(a){return e(a,"form")};return function(t){for(var l=arguments.length,s=new Array(l>1?l-1:0),i=1;i<l;i++)s[i-1]=arguments[i];return r()(s.length,"No fields specified"),1===s.length?e(n(t),a+".values."+s[0]):s.reduce((function(r,l){var s=e(n(t),a+".values."+l);return void 0===s?r:o.a.setIn(r,l,s)}),{})}}}(o.a)},793:function(a,e,t){"use strict";t.d(e,"b",(function(){return s})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){return u}));var n=t(187),r=t(802),o=localStorage.getItem("namaTimbangan"),l=localStorage.getItem("enableTimbangan"),s=function(a){l&&n.a.database().ref(o).on("value",(function(e){var t=e.val();a("bruto",t.nilai)}))},i=function(a){var e=Object(r.a)("http://103.119.55.52:8010/api/v1/".replace(/\/api\/v1\//,""));e.on("connect",(function(){console.log("SOCKET CONNECTED : ",e.connected)}));var t=localStorage.getItem("username");e.on("timbangan-emit",(function(e){var n;(null===(n=e.user_id)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())&&(localStorage.setItem("timbangan-active","true"),a(document.activeElement.name,e.value))}))},u=function(){var a=Object(r.a)("http://103.119.55.52:8010/api/v1/".replace(/\/api\/v1\//,""));localStorage.setItem("timbangan-active","false"),a.disconnect()}},795:function(a,e,t){"use strict";t.d(e,"a",(function(){return o}));var n=function(a){if(!(a.indexOf(" ")>0||a.indexOf("-")>0||a.indexOf("//")>0||a.indexOf("/")>0))return!1;var e=0,t=0;return a.indexOf("-")>0?(e=parseFloat(a.split("-")[0]).toFixed(3),{NW:t=parseFloat(a.split("-")[1]).toFixed(3),GW:e,PKG:(parseFloat(e)-parseFloat(t)).toFixed(3)}):a.indexOf("//")>0&&void function(a){var e=0,t=0,n=0;if(a.indexOf("//")>0){r(a.split("//"))}else{if(!(a.indexOf("/")>0)){var o=a.split(" ");return e=parseFloat(o[0]).toFixed(3),t=parseFloat(o[1]).toFixed(3),n=(parseFloat(e)-parseFloat(t)).toFixed(3),{GW:e,NW:t,PKG:n}}r(a.split("/"))}}(a)};function r(a){var e,t;return e=parseFloat(a[0].trim()).toFixed(3),{NW:t=parseFloat(a[1].trim()).toFixed(3),GW:e,PKG:(parseFloat(e)-parseFloat(t)).toFixed(3)}}var o=function(a){var e=function(a){if("4"===a.charAt(0)||"5"===a.charAt(0)&&"0000"===a.slice(-4)){var e=a.charAt(0),t=a.substr(1,e)/1e3,n=a.substr(Number(e)+1,1),r=a.substr(Number(e)+2,n)/1e3,o=parseFloat(t)-parseFloat(r);return{NW:parseFloat(r).toFixed(3),PKG:parseFloat(o).toFixed(3),GW:parseFloat(t).toFixed(3)}}if(22===a.length&&"0"===a.substr(0,1)){var l=parseFloat(a.substr(13,5))/100,s=parseFloat(a.substr(18,4))/100,i=l+s;return{NW:parseFloat(l).toFixed(3),PKG:parseFloat(s).toFixed(3),GW:parseFloat(i).toFixed(3)}}if(20===a.length){var u=a.substr(8,6)/100,c=a.substr(14,6)/100,d=c-u;return{NW:parseFloat(u).toFixed(3),PKG:parseFloat(d).toFixed(3),GW:parseFloat(c).toFixed(3)}}if(14===a.length){var p=a.substr(1,4)/1e3,m=a.substr(6,4)/1e3,b=p-m;return{NW:parseFloat(m).toFixed(3),PKG:parseFloat(b).toFixed(3),GW:parseFloat(p).toFixed(3)}}}(a),t=function(a){var e=a.indexOf("X");if(12===a.length-1-e&&"0"!==a.substr(1,1)){console.log(a.substr(e+7,5));var t=parseFloat(a.substr(e+1,7))/100,n=parseFloat(a.substr(e+8,5))/100;return{NW:t-n,PKG:n,GW:t}}return!1}(a),r=function(a){if("#"===a.substr(5,1)){var e,t,n;return n=(t=parseFloat(a.split("#")[0]).toFixed(3)/100)-(e=parseFloat(a.split("#")[1]).toFixed(3)/100),console.log(a),{NW:e,GW:t,PKG:n}}return!1}(a),o=function(a){if("LLP"===a.substr(0,3)){console.log("INI DI LLP");var e=a.split("-"),t=e[1].substr(0,e[1].length-1),n=e[2].substr(0,e[2].length-1);return{NW:n,PKG:parseFloat(t)-parseFloat(n),GW:t}}return!1}(a),l=function(a){if(15===a.length||14===a.length||16===a.length){var e=a.charAt(0),t=a.charAt(Number(e)+1),n=a.substr(1,e)/1e3,r=a.substr(Number(e)+2,t)/1e3,o=n-r;return{NW:parseFloat(r).toFixed(3),PKG:parseFloat(o).toFixed(3),GW:parseFloat(n).toFixed(3)}}return!1}(a),s=function(a){if(-1!==a.indexOf("//")){var e=a.split("//")[0],t=a.split("//")[1],n=Number(e)-Number(t);return console.log(parseFloat(t).toFixed(3),parseFloat(n).toFixed(3),parseFloat(e).toFixed(3)),{NW:parseFloat(t).toFixed(3),PKG:parseFloat(n).toFixed(3),GW:parseFloat(e).toFixed(3)}}if(-1!==a.indexOf("-")){if(-1!==a.indexOf("ayu")||-1!==a.indexOf("AYU")){var r=a.split("-")[1],o=a.split("-")[2],l=Number(r)-Number(o);return{NW:parseFloat(o).toFixed(3),PKG:parseFloat(l).toFixed(3),GW:parseFloat(r).toFixed(3)}}var s=a.split("-")[0],i=a.split("-")[1],u=Number(s)-Number(i);return{NW:parseFloat(i).toFixed(3),PKG:parseFloat(u).toFixed(3),GW:parseFloat(s).toFixed(3)}}return!1}(a),i=n(a);return e||(r||(o||(s||(i||(l||(t||void 0))))))}},796:function(a,e,t){"use strict";var n=t(0),r=t.n(n),o=t(440),l=t(1),s=t(48);e.a=function(a){var e,t,n;return r.a.createElement("div",{className:Object(l.Db)()?"col-md-".concat(null!==(e=a.width)&&void 0!==e?e:3," form-group"):"col-md-".concat(null!==(t=a.width)&&void 0!==t?t:3," form-group d-none")},r.a.createElement(o.a,{name:null!==(n=a.name)&&void 0!==n?n:"qty",label:"Quantity",type:"number",normalize:l.e,component:s.b}))}}}]);